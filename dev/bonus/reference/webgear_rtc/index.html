<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A High-Performance Video-Processing Python Framework for building complex real-time media applications. ðŸ”¥"><meta name=author content="Abhishek Thakur"><link href=https://abhitronix.github.io/vidgear/v0.3.4-dev/bonus/reference/webgear_rtc/ rel=canonical><link href=../webgear/ rel=prev><link href=../netgear_async/ rel=next><link rel=icon href=../../../assets/images/favicon-32.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.23"><title>WebGear_RTC API References - VidGear</title><link rel=stylesheet href=../../../assets/stylesheets/main.84d31ad4.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%201.5c-2.363%200-4%201.69-4%203.75%200%20.984.424%201.625.984%202.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621%201.49a.75.75%200%200%201-1.484.211c-.04-.282-.163-.547-.37-.847a9%209%200%200%200-.542-.68q-.126-.149-.268-.32C3.201%207.75%202.5%206.766%202.5%205.25%202.5%202.31%204.863%200%208%200s5.5%202.31%205.5%205.25c0%201.516-.701%202.5-1.328%203.259q-.142.172-.268.319c-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751%200%200%201-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848q.113-.133.213-.253c.561-.679.985-1.32.985-2.304%200-2.06-1.637-3.75-4-3.75M5.75%2012h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M6%2015.25a.75.75%200%200%201%20.75-.75h2.5a.75.75%200%200%201%200%201.5h-2.5a.75.75%200%200%201-.75-.75%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Sans+3:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Source Sans 3";--md-code-font:"Fira Code"}</style><link rel=stylesheet href=../../../assets/_mkdocstrings.css><link rel=stylesheet href=../../../assets/stylesheets/custom.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XMZCQ3KBNJ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XMZCQ3KBNJ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XMZCQ3KBNJ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script><meta property=og:type content=website><meta property=og:title content="VidGear - WebGear_RTC API References"><meta property=og:description content="A High-Performance Video-Processing Python Framework for building complex real-time media applications. ðŸ”¥"><meta content=https://abhitronix.github.io/vidgear/v0.3.4-dev/bonus/reference/webgear_rtc/ property=og:url><meta property=og:image content=https://abhitronix.github.io/vidgear/v0.3.4-dev/assets/images/banner_link.png><meta property=og:image:type content=image/png><meta property=og:image:width content=1200><meta property=og:image:height content=630></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#vidgear.gears.asyncio.WebGear_RTC class=md-skip> Skip to content </a> </div> <div data-md-component=announce> <aside class=md-banner> <div class="md-banner__inner md-grid md-typeset"> <button class="md-banner__button md-icon" aria-label="Don't show this again"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> <!-- Add announcement here, including arbitrary HTML --> <b><span class=twemoji> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M461.2 18.9C472.7 24 480 35.4 480 48v416c0 12.6-7.3 24-18.8 29.1s-24.8 3.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63V480c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-96C57.3 384 0 326.7 0 256s57.3-128 128-128h84.5c61.8-.2 121.4-22.7 167.9-63.3L427 24c9.4-8.3 22.9-10.2 34.3-5.1zM224 320v.2c70.3 2.7 137.8 28.5 192 73.4V118.3c-54.2 44.9-121.7 70.7-192 73.4z"/></svg> </span> We're excited to announce our new <a href=https://abhitronix.github.io/deffcode style="color: yellow; text-decoration: none;">Deffcode</a> library, which will be integrated with VidGear soon. We value your feedback and would love to hear your thoughts!</b> </div> <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script> </aside> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> <div class="md-banner__inner md-grid md-typeset"> You're not viewing the latest version. <a href=../../../..> <strong>Click here to go to latest.</strong> </a> </div> <script>var el=document.querySelector("[data-md-component=outdated]"),base=new URL("../../.."),outdated=__md_get("__outdated",sessionStorage,base);!0===outdated&&el&&(el.hidden=!1)</script> </aside> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=VidGear class="md-header__button md-logo" aria-label=VidGear data-md-component=logo> <img src=../../../assets/images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> VidGear </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> WebGear_RTC API References </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 2 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm17.31 0-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15M14 15a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1 1 1 0 0 0 1 1h10a1 1 0 0 0 1-1m8 0a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1 1 1 0 0 0 1 1h4a1 1 0 0 0 1-1m-12 4a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1 1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1m-7 0a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1 1 1 0 0 0-1-1H4a1 1 0 0 0-1 1m9-10a3 3 0 0 1 3 3h2a5 5 0 0 0-5-5 5 5 0 0 0-5 5h2a3 3 0 0 1 3-3"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=purple data-md-color-accent=dark-purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=deep-orange data-md-color-accent=orange aria-label="Switch to system mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/abhiTronix/vidgear title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> abhiTronix/vidgear </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../gears/ class=md-tabs__link> Gears </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../camgear/ class=md-tabs__link> References </a> </li> <li class=md-tabs__item> <a href=../../../help/ class=md-tabs__link> Help </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=VidGear class="md-nav__button md-logo" aria-label=VidGear data-md-component=logo> <img src=../../../assets/images/logo.svg alt=logo> </a> VidGear </label> <div class=md-nav__source> <a href=https://github.com/abhiTronix/vidgear title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> abhiTronix/vidgear </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../gears/ class=md-nav__link> <span class=md-ellipsis> Gears </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1 checked> <label class=md-nav__link for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class=md-ellipsis> API References </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> API References </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../camgear/ class=md-nav__link> <span class=md-ellipsis> vidgear.gears </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1_2 checked> <label class=md-nav__link for=__nav_3_1_2 id=__nav_3_1_2_label tabindex=0> <span class=md-ellipsis> vidgear.gears.asyncio </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_3_1_2_label aria-expanded=true> <label class=md-nav__title for=__nav_3_1_2> <span class="md-nav__icon md-icon"></span> vidgear.gears.asyncio </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../webgear/ class=md-nav__link> <span class=md-ellipsis> WebGear API References </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> WebGear_RTC API References </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> WebGear_RTC API References </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC class=md-nav__link> <span class=md-ellipsis> WebGear_RTC </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.__call__ class=md-nav__link> <span class=md-ellipsis> __call__ </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.shutdown class=md-nav__link> <span class=md-ellipsis> shutdown </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../netgear_async/ class=md-nav__link> <span class=md-ellipsis> NetGear_Async API References </span> </a> </li> <li class=md-nav__item> <a href=../helper_async/ class=md-nav__link> <span class=md-ellipsis> Helper Methods </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../docker_example/ class=md-nav__link> <span class=md-ellipsis> Containerizing VidGear with Docker </span> </a> </li> <li class=md-nav__item> <a href=../../colorspace_manipulation/ class=md-nav__link> <span class=md-ellipsis> Colorspace Manipulation </span> </a> </li> <li class=md-nav__item> <a href=../../TQM/ class=md-nav__link> <span class=md-ellipsis> Threaded Queue Mode </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a href=../../../help/ class=md-nav__link> <span class=md-ellipsis> Help </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC class=md-nav__link> <span class=md-ellipsis> WebGear_RTC </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.__call__ class=md-nav__link> <span class=md-ellipsis> __call__ </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.__init__ class=md-nav__link> <span class=md-ellipsis> __init__ </span> </a> </li> <li class=md-nav__item> <a href=#vidgear.gears.asyncio.WebGear_RTC.shutdown class=md-nav__link> <span class=md-ellipsis> shutdown </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/abhiTronix/vidgear/edit/testing/docs/bonus/reference/webgear_rtc.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <a href=https://github.com/abhiTronix/vidgear/raw/testing/docs/bonus/reference/webgear_rtc.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg> </a> <h1>WebGear_RTC API References</h1> <!--
===============================================
vidgear library source-code is deployed under the Apache 2.0 License:

Copyright (c) 2019 Abhishek Thakur(@abhiTronix) <abhi.una12@gmail.com>

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
===============================================
--> <div class="admonition example"> <p class=admonition-title>WebGear_RTC API usage examples can be found <a href=../../../gears/webgear_rtc/usage/ >here âž¶</a></p> </div> <div class="admonition info"> <p class=admonition-title>WebGear_RTC API parameters are explained <a href=../../../gears/webgear_rtc/params/ >here âž¶</a></p> </div> <div class="doc doc-object doc-class"> <a id=vidgear.gears.asyncio.WebGear_RTC></a> <div class="doc doc-contents first"> <p>WebGear_RTC is similar to WeGear API in many aspects but utilizes WebRTC technology under the hood instead of Motion JPEG, which makes it suitable for building powerful video-streaming solutions for all modern browsers as well as native clients available on all major platforms.</p> <p>WebGear_RTC is implemented with the help of aiortc library which is built on top of asynchronous I/O framework for Web Real-Time Communication (WebRTC) and Object Real-Time Communication (ORTC) and supports many features like SDP generation/parsing, Interactive Connectivity Establishment with half-trickle and mDNS support, DTLS key and certificate generation, DTLS handshake, etc.</p> <p>WebGear_RTC can handle multiple consumers seamlessly and provides native support for ICE (Interactive Connectivity Establishment) protocol, STUN (Session Traversal Utilities for NAT), and TURN (Traversal Using Relays around NAT) servers that help us to easily establish direct media connection with the remote peers for uninterrupted data flow. It also allows us to define our custom Server as a source to transform frames easily before sending them across the network(see this doc example).</p> <p>WebGear_RTC API works in conjunction with Starlette ASGI application and can also flexibly interact with Starlette's ecosystem of shared middleware, mountable applications, Response classes, Routing tables, Static Files, Templating engine(with Jinja2), etc.</p> <p>Additionally, WebGear_RTC API also provides internal wrapper around VideoGear, which itself provides internal access to both CamGear and PiGear APIs.</p> <details class=quote> <summary>Source code in <code>vidgear/gears/asyncio/webgear_rtc.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-321>321</a></span>
<span class=normal><a href=#__codelineno-0-322>322</a></span>
<span class=normal><a href=#__codelineno-0-323>323</a></span>
<span class=normal><a href=#__codelineno-0-324>324</a></span>
<span class=normal><a href=#__codelineno-0-325>325</a></span>
<span class=normal><a href=#__codelineno-0-326>326</a></span>
<span class=normal><a href=#__codelineno-0-327>327</a></span>
<span class=normal><a href=#__codelineno-0-328>328</a></span>
<span class=normal><a href=#__codelineno-0-329>329</a></span>
<span class=normal><a href=#__codelineno-0-330>330</a></span>
<span class=normal><a href=#__codelineno-0-331>331</a></span>
<span class=normal><a href=#__codelineno-0-332>332</a></span>
<span class=normal><a href=#__codelineno-0-333>333</a></span>
<span class=normal><a href=#__codelineno-0-334>334</a></span>
<span class=normal><a href=#__codelineno-0-335>335</a></span>
<span class=normal><a href=#__codelineno-0-336>336</a></span>
<span class=normal><a href=#__codelineno-0-337>337</a></span>
<span class=normal><a href=#__codelineno-0-338>338</a></span>
<span class=normal><a href=#__codelineno-0-339>339</a></span>
<span class=normal><a href=#__codelineno-0-340>340</a></span>
<span class=normal><a href=#__codelineno-0-341>341</a></span>
<span class=normal><a href=#__codelineno-0-342>342</a></span>
<span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span>
<span class=normal><a href=#__codelineno-0-510>510</a></span>
<span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span>
<span class=normal><a href=#__codelineno-0-539>539</a></span>
<span class=normal><a href=#__codelineno-0-540>540</a></span>
<span class=normal><a href=#__codelineno-0-541>541</a></span>
<span class=normal><a href=#__codelineno-0-542>542</a></span>
<span class=normal><a href=#__codelineno-0-543>543</a></span>
<span class=normal><a href=#__codelineno-0-544>544</a></span>
<span class=normal><a href=#__codelineno-0-545>545</a></span>
<span class=normal><a href=#__codelineno-0-546>546</a></span>
<span class=normal><a href=#__codelineno-0-547>547</a></span>
<span class=normal><a href=#__codelineno-0-548>548</a></span>
<span class=normal><a href=#__codelineno-0-549>549</a></span>
<span class=normal><a href=#__codelineno-0-550>550</a></span>
<span class=normal><a href=#__codelineno-0-551>551</a></span>
<span class=normal><a href=#__codelineno-0-552>552</a></span>
<span class=normal><a href=#__codelineno-0-553>553</a></span>
<span class=normal><a href=#__codelineno-0-554>554</a></span>
<span class=normal><a href=#__codelineno-0-555>555</a></span>
<span class=normal><a href=#__codelineno-0-556>556</a></span>
<span class=normal><a href=#__codelineno-0-557>557</a></span>
<span class=normal><a href=#__codelineno-0-558>558</a></span>
<span class=normal><a href=#__codelineno-0-559>559</a></span>
<span class=normal><a href=#__codelineno-0-560>560</a></span>
<span class=normal><a href=#__codelineno-0-561>561</a></span>
<span class=normal><a href=#__codelineno-0-562>562</a></span>
<span class=normal><a href=#__codelineno-0-563>563</a></span>
<span class=normal><a href=#__codelineno-0-564>564</a></span>
<span class=normal><a href=#__codelineno-0-565>565</a></span>
<span class=normal><a href=#__codelineno-0-566>566</a></span>
<span class=normal><a href=#__codelineno-0-567>567</a></span>
<span class=normal><a href=#__codelineno-0-568>568</a></span>
<span class=normal><a href=#__codelineno-0-569>569</a></span>
<span class=normal><a href=#__codelineno-0-570>570</a></span>
<span class=normal><a href=#__codelineno-0-571>571</a></span>
<span class=normal><a href=#__codelineno-0-572>572</a></span>
<span class=normal><a href=#__codelineno-0-573>573</a></span>
<span class=normal><a href=#__codelineno-0-574>574</a></span>
<span class=normal><a href=#__codelineno-0-575>575</a></span>
<span class=normal><a href=#__codelineno-0-576>576</a></span>
<span class=normal><a href=#__codelineno-0-577>577</a></span>
<span class=normal><a href=#__codelineno-0-578>578</a></span>
<span class=normal><a href=#__codelineno-0-579>579</a></span>
<span class=normal><a href=#__codelineno-0-580>580</a></span>
<span class=normal><a href=#__codelineno-0-581>581</a></span>
<span class=normal><a href=#__codelineno-0-582>582</a></span>
<span class=normal><a href=#__codelineno-0-583>583</a></span>
<span class=normal><a href=#__codelineno-0-584>584</a></span>
<span class=normal><a href=#__codelineno-0-585>585</a></span>
<span class=normal><a href=#__codelineno-0-586>586</a></span>
<span class=normal><a href=#__codelineno-0-587>587</a></span>
<span class=normal><a href=#__codelineno-0-588>588</a></span>
<span class=normal><a href=#__codelineno-0-589>589</a></span>
<span class=normal><a href=#__codelineno-0-590>590</a></span>
<span class=normal><a href=#__codelineno-0-591>591</a></span>
<span class=normal><a href=#__codelineno-0-592>592</a></span>
<span class=normal><a href=#__codelineno-0-593>593</a></span>
<span class=normal><a href=#__codelineno-0-594>594</a></span>
<span class=normal><a href=#__codelineno-0-595>595</a></span>
<span class=normal><a href=#__codelineno-0-596>596</a></span>
<span class=normal><a href=#__codelineno-0-597>597</a></span>
<span class=normal><a href=#__codelineno-0-598>598</a></span>
<span class=normal><a href=#__codelineno-0-599>599</a></span>
<span class=normal><a href=#__codelineno-0-600>600</a></span>
<span class=normal><a href=#__codelineno-0-601>601</a></span>
<span class=normal><a href=#__codelineno-0-602>602</a></span>
<span class=normal><a href=#__codelineno-0-603>603</a></span>
<span class=normal><a href=#__codelineno-0-604>604</a></span>
<span class=normal><a href=#__codelineno-0-605>605</a></span>
<span class=normal><a href=#__codelineno-0-606>606</a></span>
<span class=normal><a href=#__codelineno-0-607>607</a></span>
<span class=normal><a href=#__codelineno-0-608>608</a></span>
<span class=normal><a href=#__codelineno-0-609>609</a></span>
<span class=normal><a href=#__codelineno-0-610>610</a></span>
<span class=normal><a href=#__codelineno-0-611>611</a></span>
<span class=normal><a href=#__codelineno-0-612>612</a></span>
<span class=normal><a href=#__codelineno-0-613>613</a></span>
<span class=normal><a href=#__codelineno-0-614>614</a></span>
<span class=normal><a href=#__codelineno-0-615>615</a></span>
<span class=normal><a href=#__codelineno-0-616>616</a></span>
<span class=normal><a href=#__codelineno-0-617>617</a></span>
<span class=normal><a href=#__codelineno-0-618>618</a></span>
<span class=normal><a href=#__codelineno-0-619>619</a></span>
<span class=normal><a href=#__codelineno-0-620>620</a></span>
<span class=normal><a href=#__codelineno-0-621>621</a></span>
<span class=normal><a href=#__codelineno-0-622>622</a></span>
<span class=normal><a href=#__codelineno-0-623>623</a></span>
<span class=normal><a href=#__codelineno-0-624>624</a></span>
<span class=normal><a href=#__codelineno-0-625>625</a></span>
<span class=normal><a href=#__codelineno-0-626>626</a></span>
<span class=normal><a href=#__codelineno-0-627>627</a></span>
<span class=normal><a href=#__codelineno-0-628>628</a></span>
<span class=normal><a href=#__codelineno-0-629>629</a></span>
<span class=normal><a href=#__codelineno-0-630>630</a></span>
<span class=normal><a href=#__codelineno-0-631>631</a></span>
<span class=normal><a href=#__codelineno-0-632>632</a></span>
<span class=normal><a href=#__codelineno-0-633>633</a></span>
<span class=normal><a href=#__codelineno-0-634>634</a></span>
<span class=normal><a href=#__codelineno-0-635>635</a></span>
<span class=normal><a href=#__codelineno-0-636>636</a></span>
<span class=normal><a href=#__codelineno-0-637>637</a></span>
<span class=normal><a href=#__codelineno-0-638>638</a></span>
<span class=normal><a href=#__codelineno-0-639>639</a></span>
<span class=normal><a href=#__codelineno-0-640>640</a></span>
<span class=normal><a href=#__codelineno-0-641>641</a></span>
<span class=normal><a href=#__codelineno-0-642>642</a></span>
<span class=normal><a href=#__codelineno-0-643>643</a></span>
<span class=normal><a href=#__codelineno-0-644>644</a></span>
<span class=normal><a href=#__codelineno-0-645>645</a></span>
<span class=normal><a href=#__codelineno-0-646>646</a></span>
<span class=normal><a href=#__codelineno-0-647>647</a></span>
<span class=normal><a href=#__codelineno-0-648>648</a></span>
<span class=normal><a href=#__codelineno-0-649>649</a></span>
<span class=normal><a href=#__codelineno-0-650>650</a></span>
<span class=normal><a href=#__codelineno-0-651>651</a></span>
<span class=normal><a href=#__codelineno-0-652>652</a></span>
<span class=normal><a href=#__codelineno-0-653>653</a></span>
<span class=normal><a href=#__codelineno-0-654>654</a></span>
<span class=normal><a href=#__codelineno-0-655>655</a></span>
<span class=normal><a href=#__codelineno-0-656>656</a></span>
<span class=normal><a href=#__codelineno-0-657>657</a></span>
<span class=normal><a href=#__codelineno-0-658>658</a></span>
<span class=normal><a href=#__codelineno-0-659>659</a></span>
<span class=normal><a href=#__codelineno-0-660>660</a></span>
<span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-321><a id=__codelineno-0-321 name=__codelineno-0-321></a><span class=k>class</span><span class=w> </span><span class=nc>WebGear_RTC</span><span class=p>:</span>
</span><span id=__span-0-322><a id=__codelineno-0-322 name=__codelineno-0-322></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-323><a id=__codelineno-0-323 name=__codelineno-0-323></a><span class=sd>    WebGear_RTC is similar to WeGear API in many aspects but utilizes WebRTC technology under the hood instead of Motion JPEG, which</span>
</span><span id=__span-0-324><a id=__codelineno-0-324 name=__codelineno-0-324></a><span class=sd>    makes it suitable for building powerful video-streaming solutions for all modern browsers as well as native clients available on</span>
</span><span id=__span-0-325><a id=__codelineno-0-325 name=__codelineno-0-325></a><span class=sd>    all major platforms.</span>
</span><span id=__span-0-326><a id=__codelineno-0-326 name=__codelineno-0-326></a>
</span><span id=__span-0-327><a id=__codelineno-0-327 name=__codelineno-0-327></a><span class=sd>    WebGear_RTC is implemented with the help of aiortc library which is built on top of asynchronous I/O framework for Web Real-Time</span>
</span><span id=__span-0-328><a id=__codelineno-0-328 name=__codelineno-0-328></a><span class=sd>    Communication (WebRTC) and Object Real-Time Communication (ORTC) and supports many features like SDP generation/parsing, Interactive</span>
</span><span id=__span-0-329><a id=__codelineno-0-329 name=__codelineno-0-329></a><span class=sd>    Connectivity Establishment with half-trickle and mDNS support, DTLS key and certificate generation, DTLS handshake, etc.</span>
</span><span id=__span-0-330><a id=__codelineno-0-330 name=__codelineno-0-330></a>
</span><span id=__span-0-331><a id=__codelineno-0-331 name=__codelineno-0-331></a><span class=sd>    WebGear_RTC can handle multiple consumers seamlessly and provides native support for ICE (Interactive Connectivity Establishment)</span>
</span><span id=__span-0-332><a id=__codelineno-0-332 name=__codelineno-0-332></a><span class=sd>    protocol, STUN (Session Traversal Utilities for NAT), and TURN (Traversal Using Relays around NAT) servers that help us to easily</span>
</span><span id=__span-0-333><a id=__codelineno-0-333 name=__codelineno-0-333></a><span class=sd>    establish direct media connection with the remote peers for uninterrupted data flow. It also allows us to define our custom Server</span>
</span><span id=__span-0-334><a id=__codelineno-0-334 name=__codelineno-0-334></a><span class=sd>    as a source to transform frames easily before sending them across the network(see this doc example).</span>
</span><span id=__span-0-335><a id=__codelineno-0-335 name=__codelineno-0-335></a>
</span><span id=__span-0-336><a id=__codelineno-0-336 name=__codelineno-0-336></a><span class=sd>    WebGear_RTC API works in conjunction with Starlette ASGI application and can also flexibly interact with Starlette&#39;s ecosystem of</span>
</span><span id=__span-0-337><a id=__codelineno-0-337 name=__codelineno-0-337></a><span class=sd>    shared middleware, mountable applications, Response classes, Routing tables, Static Files, Templating engine(with Jinja2), etc.</span>
</span><span id=__span-0-338><a id=__codelineno-0-338 name=__codelineno-0-338></a>
</span><span id=__span-0-339><a id=__codelineno-0-339 name=__codelineno-0-339></a><span class=sd>    Additionally, WebGear_RTC API also provides internal wrapper around VideoGear, which itself provides internal access to both</span>
</span><span id=__span-0-340><a id=__codelineno-0-340 name=__codelineno-0-340></a><span class=sd>    CamGear and PiGear APIs.</span>
</span><span id=__span-0-341><a id=__codelineno-0-341 name=__codelineno-0-341></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-342><a id=__codelineno-0-342 name=__codelineno-0-342></a>
</span><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a>    <span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>        <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>        <span class=n>enablePiCamera</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>        <span class=n>stabilize</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>        <span class=n>source</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>        <span class=n>camera_num</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>        <span class=n>stream_mode</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>        <span class=n>backend</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>        <span class=n>colorspace</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>        <span class=n>resolution</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>640</span><span class=p>,</span> <span class=mi>480</span><span class=p>),</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>        <span class=n>framerate</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=mi>25</span><span class=p>,</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>        <span class=n>logging</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>        <span class=n>time_delay</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>        <span class=o>**</span><span class=n>options</span><span class=p>:</span> <span class=nb>dict</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a>    <span class=p>):</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>        This constructor method initializes the object state and attributes of the WebGear_RTC class.</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=sd>        Parameters:</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=sd>            enablePiCamera (bool): provide access to PiGear(if True) or CamGear(if False) APIs respectively.</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a><span class=sd>            stabilize (bool): enable access to Stabilizer Class for stabilizing frames.</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a><span class=sd>            camera_num (int): selects the camera module index which will be used as Rpi source.</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=sd>            resolution (tuple): sets the resolution (i.e. `(width,height)`) of the Rpi source.</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=sd>            framerate (int/float): sets the framerate of the Rpi source.</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a><span class=sd>            source (based on input): defines the source for the input stream.</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>            stream_mode (bool): controls the exclusive YouTube Mode.</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a><span class=sd>            backend (int): selects the backend for OpenCV&#39;s VideoCapture class.</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a><span class=sd>            colorspace (str): selects the colorspace of the input stream.</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a><span class=sd>            logging (bool): enables/disables logging.</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a><span class=sd>            time_delay (int): time delay (in sec) before start reading the frames.</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a><span class=sd>            options (dict): provides ability to alter Tweak Parameters of WebGear_RTC, CamGear, PiGear &amp; Stabilizer.</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>        <span class=c1># enable logging if specified</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=o>=</span> <span class=n>logging</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>logging</span><span class=p>,</span> <span class=nb>bool</span><span class=p>)</span> <span class=k>else</span> <span class=kc>False</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>        <span class=c1># print current version</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>        <span class=n>logcurr_vidgear_ver</span><span class=p>(</span><span class=n>logging</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__logging</span><span class=p>)</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>        <span class=c1># raise error(s) for critical Class imports</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>        <span class=n>import_dependency_safe</span><span class=p>(</span><span class=s2>&quot;starlette&quot;</span> <span class=k>if</span> <span class=n>starlette</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>        <span class=n>import_dependency_safe</span><span class=p>(</span><span class=s2>&quot;aiortc&quot;</span> <span class=k>if</span> <span class=n>aiortc</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>        <span class=c1># initialize global params</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>        <span class=n>custom_data_location</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>  <span class=c1># path to save data-files to custom location</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>        <span class=n>data_path</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>  <span class=c1># path to WebGear_RTC data-files</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>        <span class=n>overwrite_default</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># act as broadcaster</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>        <span class=c1># reformat dictionary</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>        <span class=n>options</span> <span class=o>=</span> <span class=p>{</span><span class=nb>str</span><span class=p>(</span><span class=n>k</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>():</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>        <span class=c1># assign values to global variables if specified and valid</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>        <span class=k>if</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>            <span class=k>if</span> <span class=s2>&quot;custom_data_location&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>                <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;custom_data_location&quot;</span><span class=p>]</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>                    <span class=k>assert</span> <span class=n>os</span><span class=o>.</span><span class=n>access</span><span class=p>(</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>                        <span class=n>value</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>W_OK</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>                    <span class=p>),</span> <span class=s2>&quot;[WebGear_RTC:ERROR] :: Permission Denied!, cannot write WebGear_RTC data-files to &#39;</span><span class=si>{}</span><span class=s2>&#39; directory!&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>                        <span class=n>value</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>                    <span class=p>)</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>                    <span class=k>assert</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isdir</span><span class=p>(</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>                        <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>                    <span class=p>),</span> <span class=s2>&quot;[WebGear_RTC:ERROR] :: `custom_data_location` value must be the path to a directory and not to a file!&quot;</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>                    <span class=n>custom_data_location</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a>                    <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `custom_data_location` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a>                <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;custom_data_location&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>            <span class=k>if</span> <span class=s2>&quot;overwrite_default_files&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a>                <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;overwrite_default_files&quot;</span><span class=p>]</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a>                    <span class=n>overwrite_default</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>                    <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `overwrite_default_files` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a>                <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;overwrite_default_files&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>            <span class=k>if</span> <span class=s2>&quot;enable_live_broadcast&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>                <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;enable_live_broadcast&quot;</span><span class=p>]</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>                <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>                    <span class=k>if</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>                        <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=o>=</span> <span class=n>MediaRelay</span><span class=p>()</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>                        <span class=n>options</span><span class=p>[</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>                            <span class=s2>&quot;enable_infinite_frames&quot;</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>                        <span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>  <span class=c1># enforce infinite frames</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>                        <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>                            <span class=s2>&quot;Enabled live broadcasting for Peer connection(s).&quot;</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>                        <span class=p>)</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>                    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>                        <span class=kc>None</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>                    <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `enable_live_broadcast` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>                <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;enable_live_broadcast&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>        <span class=c1># check if custom certificates path is specified</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>        <span class=k>if</span> <span class=n>custom_data_location</span><span class=p>:</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>            <span class=n>data_path</span> <span class=o>=</span> <span class=n>generate_webdata</span><span class=p>(</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>                <span class=n>custom_data_location</span><span class=p>,</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a>                <span class=n>c_name</span><span class=o>=</span><span class=s2>&quot;webgear_rtc&quot;</span><span class=p>,</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>                <span class=n>overwrite_default</span><span class=o>=</span><span class=n>overwrite_default</span><span class=p>,</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>                <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>            <span class=p>)</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>            <span class=c1># otherwise generate suitable path</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>            <span class=n>data_path</span> <span class=o>=</span> <span class=n>generate_webdata</span><span class=p>(</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>                <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>expanduser</span><span class=p>(</span><span class=s2>&quot;~&quot;</span><span class=p>),</span> <span class=s2>&quot;.vidgear&quot;</span><span class=p>),</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>                <span class=n>c_name</span><span class=o>=</span><span class=s2>&quot;webgear_rtc&quot;</span><span class=p>,</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>                <span class=n>overwrite_default</span><span class=o>=</span><span class=n>overwrite_default</span><span class=p>,</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>                <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>            <span class=p>)</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>        <span class=c1># log it</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>            <span class=s2>&quot;`</span><span class=si>{}</span><span class=s2>` is the default location for saving WebGear_RTC data-files.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>                <span class=n>data_path</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>            <span class=p>)</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>        <span class=p>)</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>        <span class=c1># define Jinja2 templates handler</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__templates</span> <span class=o>=</span> <span class=n>Jinja2Templates</span><span class=p>(</span><span class=n>directory</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>{}</span><span class=s2>/templates&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>data_path</span><span class=p>))</span>
</span><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a>        <span class=c1># define custom exception handlers</span>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__exception_handlers</span> <span class=o>=</span> <span class=p>{</span><span class=mi>404</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__not_found</span><span class=p>,</span> <span class=mi>500</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__server_error</span><span class=p>}</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>        <span class=c1># define routing tables</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>        <span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>            <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>,</span> <span class=n>endpoint</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__homepage</span><span class=p>),</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a>            <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/offer&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>__offer</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;POST&quot;</span><span class=p>]),</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a>            <span class=n>Mount</span><span class=p>(</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>                <span class=s2>&quot;/static&quot;</span><span class=p>,</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>                <span class=n>app</span><span class=o>=</span><span class=n>StaticFiles</span><span class=p>(</span><span class=n>directory</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>{}</span><span class=s2>/static&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>data_path</span><span class=p>)),</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a>                <span class=n>name</span><span class=o>=</span><span class=s2>&quot;static&quot;</span><span class=p>,</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a>            <span class=p>),</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a>        <span class=p>]</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a>        <span class=c1># define middleware support</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>        <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>        <span class=c1># Handle RTC video server</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>        <span class=k>if</span> <span class=s2>&quot;custom_stream&quot;</span> <span class=ow>in</span> <span class=n>options</span> <span class=ow>or</span> <span class=ow>not</span> <span class=p>(</span><span class=n>source</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a>            <span class=c1># Handle video source</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=n>RTC_VideoServer</span><span class=p>(</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>                <span class=n>enablePiCamera</span><span class=o>=</span><span class=n>enablePiCamera</span><span class=p>,</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>                <span class=n>stabilize</span><span class=o>=</span><span class=n>stabilize</span><span class=p>,</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>                <span class=n>source</span><span class=o>=</span><span class=n>source</span><span class=p>,</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>                <span class=n>camera_num</span><span class=o>=</span><span class=n>camera_num</span><span class=p>,</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>                <span class=n>stream_mode</span><span class=o>=</span><span class=n>stream_mode</span><span class=p>,</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>                <span class=n>backend</span><span class=o>=</span><span class=n>backend</span><span class=p>,</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>                <span class=n>colorspace</span><span class=o>=</span><span class=n>colorspace</span><span class=p>,</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>                <span class=n>resolution</span><span class=o>=</span><span class=n>resolution</span><span class=p>,</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>                <span class=n>framerate</span><span class=o>=</span><span class=n>framerate</span><span class=p>,</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>                <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>                <span class=n>time_delay</span><span class=o>=</span><span class=n>time_delay</span><span class=p>,</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>                <span class=o>**</span><span class=n>options</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>            <span class=p>)</span>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>            <span class=c1># add exclusive reset connection node</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>            <span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>                <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/close_connection&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>__reset_connections</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;POST&quot;</span><span class=p>])</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>            <span class=p>)</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>            <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>                <span class=s2>&quot;[WebGear_RTC:ERROR] :: Source cannot be NoneType without Custom Stream(`custom_stream`) defined!&quot;</span>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>            <span class=p>)</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>        <span class=c1># copying original routing tables for further validation</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__rt_org_copy</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>[:]</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>        <span class=c1># collects peer RTC connections</span>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span><span id=__span-0-510><a id=__codelineno-0-510 name=__codelineno-0-510></a>
</span><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a>    <span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Starlette</span><span class=p>:</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a><span class=sd>        Implements a custom Callable method for WebGear_RTC application.</span>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>        <span class=c1># validate routing tables</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>        <span class=k>assert</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>),</span> <span class=s2>&quot;Routing tables are NoneType!&quot;</span>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>            <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>__rt_org_copy</span>
</span><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a>        <span class=p>):</span>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a>            <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;[WebGear_RTC:ERROR] :: Routing tables are not valid!&quot;</span><span class=p>)</span>
</span><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a>        <span class=c1># validate middlewares</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>        <span class=k>assert</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>),</span> <span class=s2>&quot;Middlewares are NoneType!&quot;</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=ow>and</span> <span class=p>(</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a>            <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a>            <span class=ow>or</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>Middleware</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>)</span>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a>        <span class=p>):</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>            <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;[WebGear_RTC:ERROR] :: Middlewares are not valid!&quot;</span><span class=p>)</span>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>        <span class=c1># return Starlette application</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Running Starlette application.&quot;</span><span class=p>)</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>        <span class=k>return</span> <span class=n>Starlette</span><span class=p>(</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>            <span class=n>debug</span><span class=o>=</span><span class=p>(</span><span class=kc>True</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=k>else</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>            <span class=n>routes</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>,</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>            <span class=n>middleware</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>,</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>            <span class=n>exception_handlers</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__exception_handlers</span><span class=p>,</span>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>            <span class=n>lifespan</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__lifespan</span><span class=p>,</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>        <span class=p>)</span>
</span><span id=__span-0-539><a id=__codelineno-0-539 name=__codelineno-0-539></a>
</span><span id=__span-0-540><a id=__codelineno-0-540 name=__codelineno-0-540></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__offer</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
</span><span id=__span-0-541><a id=__codelineno-0-541 name=__codelineno-0-541></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-542><a id=__codelineno-0-542 name=__codelineno-0-542></a><span class=sd>        Generates JSON Response with a WebRTC Peer Connection of Video Server.</span>
</span><span id=__span-0-543><a id=__codelineno-0-543 name=__codelineno-0-543></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-544><a id=__codelineno-0-544 name=__codelineno-0-544></a>        <span class=c1># get offer from params</span>
</span><span id=__span-0-545><a id=__codelineno-0-545 name=__codelineno-0-545></a>        <span class=n>params</span> <span class=o>=</span> <span class=k>await</span> <span class=n>request</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span><span id=__span-0-546><a id=__codelineno-0-546 name=__codelineno-0-546></a>        <span class=n>offer</span> <span class=o>=</span> <span class=n>RTCSessionDescription</span><span class=p>(</span><span class=n>sdp</span><span class=o>=</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;sdp&quot;</span><span class=p>],</span> <span class=nb>type</span><span class=o>=</span><span class=n>params</span><span class=p>[</span><span class=s2>&quot;type&quot;</span><span class=p>])</span>
</span><span id=__span-0-547><a id=__codelineno-0-547 name=__codelineno-0-547></a>
</span><span id=__span-0-548><a id=__codelineno-0-548 name=__codelineno-0-548></a>        <span class=c1># initiate stream</span>
</span><span id=__span-0-549><a id=__codelineno-0-549 name=__codelineno-0-549></a>        <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>)</span> <span class=ow>and</span> <span class=ow>not</span> <span class=p>(</span>
</span><span id=__span-0-550><a id=__codelineno-0-550 name=__codelineno-0-550></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>is_launched</span>
</span><span id=__span-0-551><a id=__codelineno-0-551 name=__codelineno-0-551></a>        <span class=p>):</span>
</span><span id=__span-0-552><a id=__codelineno-0-552 name=__codelineno-0-552></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Initiating Video Streaming.&quot;</span><span class=p>)</span>
</span><span id=__span-0-553><a id=__codelineno-0-553 name=__codelineno-0-553></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>launch</span><span class=p>()</span>
</span><span id=__span-0-554><a id=__codelineno-0-554 name=__codelineno-0-554></a>
</span><span id=__span-0-555><a id=__codelineno-0-555 name=__codelineno-0-555></a>        <span class=c1># setup RTC peer connection - interface represents a WebRTC connection</span>
</span><span id=__span-0-556><a id=__codelineno-0-556 name=__codelineno-0-556></a>        <span class=c1># between the local computer and a remote peer.</span>
</span><span id=__span-0-557><a id=__codelineno-0-557 name=__codelineno-0-557></a>        <span class=n>pc</span> <span class=o>=</span> <span class=n>RTCPeerConnection</span><span class=p>()</span>
</span><span id=__span-0-558><a id=__codelineno-0-558 name=__codelineno-0-558></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>pc</span><span class=p>)</span>
</span><span id=__span-0-559><a id=__codelineno-0-559 name=__codelineno-0-559></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>info</span><span class=p>(</span><span class=s2>&quot;Created WebRTC Peer Connection.&quot;</span><span class=p>)</span>
</span><span id=__span-0-560><a id=__codelineno-0-560 name=__codelineno-0-560></a>
</span><span id=__span-0-561><a id=__codelineno-0-561 name=__codelineno-0-561></a>        <span class=c1># track ICE connection state changes</span>
</span><span id=__span-0-562><a id=__codelineno-0-562 name=__codelineno-0-562></a>        <span class=nd>@pc</span><span class=o>.</span><span class=n>on</span><span class=p>(</span><span class=s2>&quot;iceconnectionstatechange&quot;</span><span class=p>)</span>
</span><span id=__span-0-563><a id=__codelineno-0-563 name=__codelineno-0-563></a>        <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>on_iceconnectionstatechange</span><span class=p>():</span>
</span><span id=__span-0-564><a id=__codelineno-0-564 name=__codelineno-0-564></a>            <span class=k>if</span> <span class=n>pc</span><span class=o>.</span><span class=n>iceConnectionState</span> <span class=o>==</span> <span class=s2>&quot;failed&quot;</span><span class=p>:</span>
</span><span id=__span-0-565><a id=__codelineno-0-565 name=__codelineno-0-565></a>                <span class=n>logger</span><span class=o>.</span><span class=n>error</span><span class=p>(</span><span class=s2>&quot;ICE connection state failed.&quot;</span><span class=p>)</span>
</span><span id=__span-0-566><a id=__codelineno-0-566 name=__codelineno-0-566></a>                <span class=c1># check if Live Broadcasting is enabled</span>
</span><span id=__span-0-567><a id=__codelineno-0-567 name=__codelineno-0-567></a>                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-568><a id=__codelineno-0-568 name=__codelineno-0-568></a>                    <span class=c1># if not, close connection.</span>
</span><span id=__span-0-569><a id=__codelineno-0-569 name=__codelineno-0-569></a>                    <span class=k>await</span> <span class=n>pc</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span><span id=__span-0-570><a id=__codelineno-0-570 name=__codelineno-0-570></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span><span class=o>.</span><span class=n>discard</span><span class=p>(</span><span class=n>pc</span><span class=p>)</span>
</span><span id=__span-0-571><a id=__codelineno-0-571 name=__codelineno-0-571></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-572><a id=__codelineno-0-572 name=__codelineno-0-572></a>                <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;ICE connection state is </span><span class=si>%s</span><span class=s2>&quot;</span> <span class=o>%</span> <span class=n>pc</span><span class=o>.</span><span class=n>iceConnectionState</span><span class=p>)</span>
</span><span id=__span-0-573><a id=__codelineno-0-573 name=__codelineno-0-573></a>
</span><span id=__span-0-574><a id=__codelineno-0-574 name=__codelineno-0-574></a>        <span class=c1># Change the remote description associated with the connection.</span>
</span><span id=__span-0-575><a id=__codelineno-0-575 name=__codelineno-0-575></a>        <span class=k>await</span> <span class=n>pc</span><span class=o>.</span><span class=n>setRemoteDescription</span><span class=p>(</span><span class=n>offer</span><span class=p>)</span>
</span><span id=__span-0-576><a id=__codelineno-0-576 name=__codelineno-0-576></a>        <span class=c1># retrieve list of RTCRtpTransceiver objects that are currently attached to the connection</span>
</span><span id=__span-0-577><a id=__codelineno-0-577 name=__codelineno-0-577></a>        <span class=k>for</span> <span class=n>t</span> <span class=ow>in</span> <span class=n>pc</span><span class=o>.</span><span class=n>getTransceivers</span><span class=p>():</span>
</span><span id=__span-0-578><a id=__codelineno-0-578 name=__codelineno-0-578></a>            <span class=c1># Increments performance significantly, IDK why this works as H265 codec is not even supported :D</span>
</span><span id=__span-0-579><a id=__codelineno-0-579 name=__codelineno-0-579></a>            <span class=n>capabilities</span> <span class=o>=</span> <span class=n>RTCRtpSender</span><span class=o>.</span><span class=n>getCapabilities</span><span class=p>(</span><span class=s2>&quot;video&quot;</span><span class=p>)</span>
</span><span id=__span-0-580><a id=__codelineno-0-580 name=__codelineno-0-580></a>            <span class=n>preferences</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>filter</span><span class=p>(</span><span class=k>lambda</span> <span class=n>x</span><span class=p>:</span> <span class=n>x</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=s2>&quot;H265&quot;</span><span class=p>,</span> <span class=n>capabilities</span><span class=o>.</span><span class=n>codecs</span><span class=p>))</span>
</span><span id=__span-0-581><a id=__codelineno-0-581 name=__codelineno-0-581></a>            <span class=n>t</span><span class=o>.</span><span class=n>setCodecPreferences</span><span class=p>(</span><span class=n>preferences</span><span class=p>)</span>
</span><span id=__span-0-582><a id=__codelineno-0-582 name=__codelineno-0-582></a>            <span class=c1># add video server to peer track</span>
</span><span id=__span-0-583><a id=__codelineno-0-583 name=__codelineno-0-583></a>            <span class=k>if</span> <span class=n>t</span><span class=o>.</span><span class=n>kind</span> <span class=o>==</span> <span class=s2>&quot;video&quot;</span><span class=p>:</span>
</span><span id=__span-0-584><a id=__codelineno-0-584 name=__codelineno-0-584></a>                <span class=n>pc</span><span class=o>.</span><span class=n>addTrack</span><span class=p>(</span>
</span><span id=__span-0-585><a id=__codelineno-0-585 name=__codelineno-0-585></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span><span class=o>.</span><span class=n>subscribe</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=p>)</span>
</span><span id=__span-0-586><a id=__codelineno-0-586 name=__codelineno-0-586></a>                    <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-587><a id=__codelineno-0-587 name=__codelineno-0-587></a>                    <span class=k>else</span> <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span>
</span><span id=__span-0-588><a id=__codelineno-0-588 name=__codelineno-0-588></a>                <span class=p>)</span>
</span><span id=__span-0-589><a id=__codelineno-0-589 name=__codelineno-0-589></a>
</span><span id=__span-0-590><a id=__codelineno-0-590 name=__codelineno-0-590></a>        <span class=c1># Create an SDP answer to an offer received from a remote peer</span>
</span><span id=__span-0-591><a id=__codelineno-0-591 name=__codelineno-0-591></a>        <span class=n>answer</span> <span class=o>=</span> <span class=k>await</span> <span class=n>pc</span><span class=o>.</span><span class=n>createAnswer</span><span class=p>()</span>
</span><span id=__span-0-592><a id=__codelineno-0-592 name=__codelineno-0-592></a>
</span><span id=__span-0-593><a id=__codelineno-0-593 name=__codelineno-0-593></a>        <span class=c1># Change the local description for the answer</span>
</span><span id=__span-0-594><a id=__codelineno-0-594 name=__codelineno-0-594></a>        <span class=k>await</span> <span class=n>pc</span><span class=o>.</span><span class=n>setLocalDescription</span><span class=p>(</span><span class=n>answer</span><span class=p>)</span>
</span><span id=__span-0-595><a id=__codelineno-0-595 name=__codelineno-0-595></a>
</span><span id=__span-0-596><a id=__codelineno-0-596 name=__codelineno-0-596></a>        <span class=c1># return Starlette json response</span>
</span><span id=__span-0-597><a id=__codelineno-0-597 name=__codelineno-0-597></a>        <span class=k>return</span> <span class=n>JSONResponse</span><span class=p>(</span>
</span><span id=__span-0-598><a id=__codelineno-0-598 name=__codelineno-0-598></a>            <span class=p>{</span><span class=s2>&quot;sdp&quot;</span><span class=p>:</span> <span class=n>pc</span><span class=o>.</span><span class=n>localDescription</span><span class=o>.</span><span class=n>sdp</span><span class=p>,</span> <span class=s2>&quot;type&quot;</span><span class=p>:</span> <span class=n>pc</span><span class=o>.</span><span class=n>localDescription</span><span class=o>.</span><span class=n>type</span><span class=p>}</span>
</span><span id=__span-0-599><a id=__codelineno-0-599 name=__codelineno-0-599></a>        <span class=p>)</span>
</span><span id=__span-0-600><a id=__codelineno-0-600 name=__codelineno-0-600></a>
</span><span id=__span-0-601><a id=__codelineno-0-601 name=__codelineno-0-601></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__homepage</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
</span><span id=__span-0-602><a id=__codelineno-0-602 name=__codelineno-0-602></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-603><a id=__codelineno-0-603 name=__codelineno-0-603></a><span class=sd>        Return an HTML index page.</span>
</span><span id=__span-0-604><a id=__codelineno-0-604 name=__codelineno-0-604></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-605><a id=__codelineno-0-605 name=__codelineno-0-605></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__templates</span><span class=o>.</span><span class=n>TemplateResponse</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s2>&quot;index.html&quot;</span><span class=p>)</span>
</span><span id=__span-0-606><a id=__codelineno-0-606 name=__codelineno-0-606></a>
</span><span id=__span-0-607><a id=__codelineno-0-607 name=__codelineno-0-607></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__not_found</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>exc</span><span class=p>):</span>
</span><span id=__span-0-608><a id=__codelineno-0-608 name=__codelineno-0-608></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-609><a id=__codelineno-0-609 name=__codelineno-0-609></a><span class=sd>        Return an HTML 404 page.</span>
</span><span id=__span-0-610><a id=__codelineno-0-610 name=__codelineno-0-610></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-611><a id=__codelineno-0-611 name=__codelineno-0-611></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__templates</span><span class=o>.</span><span class=n>TemplateResponse</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s2>&quot;404.html&quot;</span><span class=p>,</span> <span class=n>status_code</span><span class=o>=</span><span class=mi>404</span><span class=p>)</span>
</span><span id=__span-0-612><a id=__codelineno-0-612 name=__codelineno-0-612></a>
</span><span id=__span-0-613><a id=__codelineno-0-613 name=__codelineno-0-613></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__server_error</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>,</span> <span class=n>exc</span><span class=p>):</span>
</span><span id=__span-0-614><a id=__codelineno-0-614 name=__codelineno-0-614></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-615><a id=__codelineno-0-615 name=__codelineno-0-615></a><span class=sd>        Return an HTML 500 page.</span>
</span><span id=__span-0-616><a id=__codelineno-0-616 name=__codelineno-0-616></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-617><a id=__codelineno-0-617 name=__codelineno-0-617></a>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>__templates</span><span class=o>.</span><span class=n>TemplateResponse</span><span class=p>(</span><span class=n>request</span><span class=p>,</span> <span class=s2>&quot;500.html&quot;</span><span class=p>,</span> <span class=n>status_code</span><span class=o>=</span><span class=mi>500</span><span class=p>)</span>
</span><span id=__span-0-618><a id=__codelineno-0-618 name=__codelineno-0-618></a>
</span><span id=__span-0-619><a id=__codelineno-0-619 name=__codelineno-0-619></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__reset_connections</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>request</span><span class=p>):</span>
</span><span id=__span-0-620><a id=__codelineno-0-620 name=__codelineno-0-620></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-621><a id=__codelineno-0-621 name=__codelineno-0-621></a><span class=sd>        Resets all connections and recreates VideoServer timestamps</span>
</span><span id=__span-0-622><a id=__codelineno-0-622 name=__codelineno-0-622></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-623><a id=__codelineno-0-623 name=__codelineno-0-623></a>        <span class=c1># get additional parameter</span>
</span><span id=__span-0-624><a id=__codelineno-0-624 name=__codelineno-0-624></a>        <span class=n>parameter</span> <span class=o>=</span> <span class=k>await</span> <span class=n>request</span><span class=o>.</span><span class=n>json</span><span class=p>()</span>
</span><span id=__span-0-625><a id=__codelineno-0-625 name=__codelineno-0-625></a>        <span class=c1># check if Live Broadcasting is enabled</span>
</span><span id=__span-0-626><a id=__codelineno-0-626 name=__codelineno-0-626></a>        <span class=k>if</span> <span class=p>(</span>
</span><span id=__span-0-627><a id=__codelineno-0-627 name=__codelineno-0-627></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=ow>is</span> <span class=kc>None</span>
</span><span id=__span-0-628><a id=__codelineno-0-628 name=__codelineno-0-628></a>            <span class=ow>and</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>)</span>
</span><span id=__span-0-629><a id=__codelineno-0-629 name=__codelineno-0-629></a>            <span class=ow>and</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>is_running</span><span class=p>)</span>
</span><span id=__span-0-630><a id=__codelineno-0-630 name=__codelineno-0-630></a>        <span class=p>):</span>
</span><span id=__span-0-631><a id=__codelineno-0-631 name=__codelineno-0-631></a>            <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span><span class=s2>&quot;Resetting Server&quot;</span><span class=p>)</span>
</span><span id=__span-0-632><a id=__codelineno-0-632 name=__codelineno-0-632></a>            <span class=c1># close old peer connections</span>
</span><span id=__span-0-633><a id=__codelineno-0-633 name=__codelineno-0-633></a>            <span class=k>if</span> <span class=n>parameter</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>  <span class=c1># disable if specified explicitly</span>
</span><span id=__span-0-634><a id=__codelineno-0-634 name=__codelineno-0-634></a>                <span class=n>coros</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-635><a id=__codelineno-0-635 name=__codelineno-0-635></a>                    <span class=n>pc</span><span class=o>.</span><span class=n>close</span><span class=p>()</span> <span class=k>for</span> <span class=n>pc</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span> <span class=k>if</span> <span class=n>pc</span><span class=o>.</span><span class=n>iceConnectionState</span> <span class=o>!=</span> <span class=s2>&quot;closed&quot;</span>
</span><span id=__span-0-636><a id=__codelineno-0-636 name=__codelineno-0-636></a>                <span class=p>]</span>
</span><span id=__span-0-637><a id=__codelineno-0-637 name=__codelineno-0-637></a>                <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>coros</span><span class=p>)</span>
</span><span id=__span-0-638><a id=__codelineno-0-638 name=__codelineno-0-638></a>                <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-0-639><a id=__codelineno-0-639 name=__codelineno-0-639></a>            <span class=k>await</span> <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
</span><span id=__span-0-640><a id=__codelineno-0-640 name=__codelineno-0-640></a>            <span class=k>return</span> <span class=n>PlainTextResponse</span><span class=p>(</span><span class=s2>&quot;OK&quot;</span><span class=p>)</span>
</span><span id=__span-0-641><a id=__codelineno-0-641 name=__codelineno-0-641></a>        <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-642><a id=__codelineno-0-642 name=__codelineno-0-642></a>            <span class=c1># if does, then do nothing</span>
</span><span id=__span-0-643><a id=__codelineno-0-643 name=__codelineno-0-643></a>            <span class=k>return</span> <span class=n>PlainTextResponse</span><span class=p>(</span><span class=s2>&quot;DISABLED&quot;</span><span class=p>)</span>
</span><span id=__span-0-644><a id=__codelineno-0-644 name=__codelineno-0-644></a>
</span><span id=__span-0-645><a id=__codelineno-0-645 name=__codelineno-0-645></a>    <span class=nd>@contextlib</span><span class=o>.</span><span class=n>asynccontextmanager</span>
</span><span id=__span-0-646><a id=__codelineno-0-646 name=__codelineno-0-646></a>    <span class=k>async</span> <span class=k>def</span><span class=w> </span><span class=nf>__lifespan</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>context</span><span class=p>):</span>
</span><span id=__span-0-647><a id=__codelineno-0-647 name=__codelineno-0-647></a>        <span class=k>try</span><span class=p>:</span>
</span><span id=__span-0-648><a id=__codelineno-0-648 name=__codelineno-0-648></a>            <span class=k>yield</span>
</span><span id=__span-0-649><a id=__codelineno-0-649 name=__codelineno-0-649></a>        <span class=k>finally</span><span class=p>:</span>
</span><span id=__span-0-650><a id=__codelineno-0-650 name=__codelineno-0-650></a>            <span class=c1># close Video Server</span>
</span><span id=__span-0-651><a id=__codelineno-0-651 name=__codelineno-0-651></a>            <span class=bp>self</span><span class=o>.</span><span class=n>shutdown</span><span class=p>()</span>
</span><span id=__span-0-652><a id=__codelineno-0-652 name=__codelineno-0-652></a>            <span class=c1># collects peer RTC connections</span>
</span><span id=__span-0-653><a id=__codelineno-0-653 name=__codelineno-0-653></a>            <span class=n>coros</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-654><a id=__codelineno-0-654 name=__codelineno-0-654></a>                <span class=n>pc</span><span class=o>.</span><span class=n>close</span><span class=p>()</span> <span class=k>for</span> <span class=n>pc</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span> <span class=k>if</span> <span class=n>pc</span><span class=o>.</span><span class=n>iceConnectionState</span> <span class=o>!=</span> <span class=s2>&quot;closed&quot;</span>
</span><span id=__span-0-655><a id=__codelineno-0-655 name=__codelineno-0-655></a>            <span class=p>]</span>
</span><span id=__span-0-656><a id=__codelineno-0-656 name=__codelineno-0-656></a>            <span class=k>await</span> <span class=n>asyncio</span><span class=o>.</span><span class=n>gather</span><span class=p>(</span><span class=o>*</span><span class=n>coros</span><span class=p>)</span>
</span><span id=__span-0-657><a id=__codelineno-0-657 name=__codelineno-0-657></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
</span><span id=__span-0-658><a id=__codelineno-0-658 name=__codelineno-0-658></a>
</span><span id=__span-0-659><a id=__codelineno-0-659 name=__codelineno-0-659></a>    <span class=k>def</span><span class=w> </span><span class=nf>shutdown</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-660><a id=__codelineno-0-660 name=__codelineno-0-660></a><span class=w>        </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a><span class=sd>        Gracefully shutdown video-server</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a><span class=sd>        &quot;&quot;&quot;</span>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a>        <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Closing Video Server.&quot;</span><span class=p>)</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a>            <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a>        <span class=c1># terminate internal server aswell.</span>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h2 id=vidgear.gears.asyncio.WebGear_RTC.__call__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__call__</span><span class=p>()</span></code> <a href=#vidgear.gears.asyncio.WebGear_RTC.__call__ class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Implements a custom Callable method for WebGear_RTC application.</p> <details class=quote> <summary>Source code in <code>vidgear/gears/asyncio/webgear_rtc.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-511>511</a></span>
<span class=normal><a href=#__codelineno-0-512>512</a></span>
<span class=normal><a href=#__codelineno-0-513>513</a></span>
<span class=normal><a href=#__codelineno-0-514>514</a></span>
<span class=normal><a href=#__codelineno-0-515>515</a></span>
<span class=normal><a href=#__codelineno-0-516>516</a></span>
<span class=normal><a href=#__codelineno-0-517>517</a></span>
<span class=normal><a href=#__codelineno-0-518>518</a></span>
<span class=normal><a href=#__codelineno-0-519>519</a></span>
<span class=normal><a href=#__codelineno-0-520>520</a></span>
<span class=normal><a href=#__codelineno-0-521>521</a></span>
<span class=normal><a href=#__codelineno-0-522>522</a></span>
<span class=normal><a href=#__codelineno-0-523>523</a></span>
<span class=normal><a href=#__codelineno-0-524>524</a></span>
<span class=normal><a href=#__codelineno-0-525>525</a></span>
<span class=normal><a href=#__codelineno-0-526>526</a></span>
<span class=normal><a href=#__codelineno-0-527>527</a></span>
<span class=normal><a href=#__codelineno-0-528>528</a></span>
<span class=normal><a href=#__codelineno-0-529>529</a></span>
<span class=normal><a href=#__codelineno-0-530>530</a></span>
<span class=normal><a href=#__codelineno-0-531>531</a></span>
<span class=normal><a href=#__codelineno-0-532>532</a></span>
<span class=normal><a href=#__codelineno-0-533>533</a></span>
<span class=normal><a href=#__codelineno-0-534>534</a></span>
<span class=normal><a href=#__codelineno-0-535>535</a></span>
<span class=normal><a href=#__codelineno-0-536>536</a></span>
<span class=normal><a href=#__codelineno-0-537>537</a></span>
<span class=normal><a href=#__codelineno-0-538>538</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-511><a id=__codelineno-0-511 name=__codelineno-0-511></a><span class=k>def</span><span class=w> </span><span class=fm>__call__</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>Starlette</span><span class=p>:</span>
</span><span id=__span-0-512><a id=__codelineno-0-512 name=__codelineno-0-512></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-513><a id=__codelineno-0-513 name=__codelineno-0-513></a><span class=sd>    Implements a custom Callable method for WebGear_RTC application.</span>
</span><span id=__span-0-514><a id=__codelineno-0-514 name=__codelineno-0-514></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-515><a id=__codelineno-0-515 name=__codelineno-0-515></a>    <span class=c1># validate routing tables</span>
</span><span id=__span-0-516><a id=__codelineno-0-516 name=__codelineno-0-516></a>    <span class=k>assert</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>),</span> <span class=s2>&quot;Routing tables are NoneType!&quot;</span>
</span><span id=__span-0-517><a id=__codelineno-0-517 name=__codelineno-0-517></a>    <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span> <span class=ow>or</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span>
</span><span id=__span-0-518><a id=__codelineno-0-518 name=__codelineno-0-518></a>        <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>__rt_org_copy</span>
</span><span id=__span-0-519><a id=__codelineno-0-519 name=__codelineno-0-519></a>    <span class=p>):</span>
</span><span id=__span-0-520><a id=__codelineno-0-520 name=__codelineno-0-520></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;[WebGear_RTC:ERROR] :: Routing tables are not valid!&quot;</span><span class=p>)</span>
</span><span id=__span-0-521><a id=__codelineno-0-521 name=__codelineno-0-521></a>
</span><span id=__span-0-522><a id=__codelineno-0-522 name=__codelineno-0-522></a>    <span class=c1># validate middlewares</span>
</span><span id=__span-0-523><a id=__codelineno-0-523 name=__codelineno-0-523></a>    <span class=k>assert</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>),</span> <span class=s2>&quot;Middlewares are NoneType!&quot;</span>
</span><span id=__span-0-524><a id=__codelineno-0-524 name=__codelineno-0-524></a>    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=ow>and</span> <span class=p>(</span>
</span><span id=__span-0-525><a id=__codelineno-0-525 name=__codelineno-0-525></a>        <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>,</span> <span class=nb>list</span><span class=p>)</span>
</span><span id=__span-0-526><a id=__codelineno-0-526 name=__codelineno-0-526></a>        <span class=ow>or</span> <span class=ow>not</span> <span class=nb>all</span><span class=p>(</span><span class=nb>isinstance</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>Middleware</span><span class=p>)</span> <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>)</span>
</span><span id=__span-0-527><a id=__codelineno-0-527 name=__codelineno-0-527></a>    <span class=p>):</span>
</span><span id=__span-0-528><a id=__codelineno-0-528 name=__codelineno-0-528></a>        <span class=k>raise</span> <span class=ne>RuntimeError</span><span class=p>(</span><span class=s2>&quot;[WebGear_RTC:ERROR] :: Middlewares are not valid!&quot;</span><span class=p>)</span>
</span><span id=__span-0-529><a id=__codelineno-0-529 name=__codelineno-0-529></a>
</span><span id=__span-0-530><a id=__codelineno-0-530 name=__codelineno-0-530></a>    <span class=c1># return Starlette application</span>
</span><span id=__span-0-531><a id=__codelineno-0-531 name=__codelineno-0-531></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Running Starlette application.&quot;</span><span class=p>)</span>
</span><span id=__span-0-532><a id=__codelineno-0-532 name=__codelineno-0-532></a>    <span class=k>return</span> <span class=n>Starlette</span><span class=p>(</span>
</span><span id=__span-0-533><a id=__codelineno-0-533 name=__codelineno-0-533></a>        <span class=n>debug</span><span class=o>=</span><span class=p>(</span><span class=kc>True</span> <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=k>else</span> <span class=kc>False</span><span class=p>),</span>
</span><span id=__span-0-534><a id=__codelineno-0-534 name=__codelineno-0-534></a>        <span class=n>routes</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>,</span>
</span><span id=__span-0-535><a id=__codelineno-0-535 name=__codelineno-0-535></a>        <span class=n>middleware</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>middleware</span><span class=p>,</span>
</span><span id=__span-0-536><a id=__codelineno-0-536 name=__codelineno-0-536></a>        <span class=n>exception_handlers</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__exception_handlers</span><span class=p>,</span>
</span><span id=__span-0-537><a id=__codelineno-0-537 name=__codelineno-0-537></a>        <span class=n>lifespan</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__lifespan</span><span class=p>,</span>
</span><span id=__span-0-538><a id=__codelineno-0-538 name=__codelineno-0-538></a>    <span class=p>)</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=vidgear.gears.asyncio.WebGear_RTC.__init__ class="doc doc-heading"> <code class="highlight language-python"><span class=fm>__init__</span><span class=p>(</span><span class=n>enablePiCamera</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>stabilize</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>source</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>camera_num</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>stream_mode</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>backend</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=n>colorspace</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>resolution</span><span class=o>=</span><span class=p>(</span><span class=mi>640</span><span class=p>,</span> <span class=mi>480</span><span class=p>),</span> <span class=n>framerate</span><span class=o>=</span><span class=mi>25</span><span class=p>,</span> <span class=n>logging</span><span class=o>=</span><span class=kc>False</span><span class=p>,</span> <span class=n>time_delay</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span> <span class=o>**</span><span class=n>options</span><span class=p>)</span></code> <a href=#vidgear.gears.asyncio.WebGear_RTC.__init__ class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>This constructor method initializes the object state and attributes of the WebGear_RTC class.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>enablePiCamera</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>provide access to PiGear(if True) or CamGear(if False) APIs respectively.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>stabilize</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>enable access to Stabilizer Class for stabilizing frames.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>camera_num</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>selects the camera module index which will be used as Rpi source.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>resolution</code> </td> <td> <code><span title=tuple>tuple</span></code> </td> <td> <div class=doc-md-description> <p>sets the resolution (i.e. <code>(width,height)</code>) of the Rpi source.</p> </div> </td> <td> <code>(640, 480)</code> </td> </tr> <tr class=doc-section-item> <td> <code>framerate</code> </td> <td> <code><span title=int>int</span> / <span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>sets the framerate of the Rpi source.</p> </div> </td> <td> <code>25</code> </td> </tr> <tr class=doc-section-item> <td> <code>source</code> </td> <td> <code>based on input</code> </td> <td> <div class=doc-md-description> <p>defines the source for the input stream.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>stream_mode</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>controls the exclusive YouTube Mode.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>backend</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>selects the backend for OpenCV's VideoCapture class.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>colorspace</code> </td> <td> <code><span title=str>str</span></code> </td> <td> <div class=doc-md-description> <p>selects the colorspace of the input stream.</p> </div> </td> <td> <code>None</code> </td> </tr> <tr class=doc-section-item> <td> <code>logging</code> </td> <td> <code><span title=bool>bool</span></code> </td> <td> <div class=doc-md-description> <p>enables/disables logging.</p> </div> </td> <td> <code>False</code> </td> </tr> <tr class=doc-section-item> <td> <code>time_delay</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>time delay (in sec) before start reading the frames.</p> </div> </td> <td> <code>0</code> </td> </tr> <tr class=doc-section-item> <td> <code>options</code> </td> <td> <code><span title=dict>dict</span></code> </td> <td> <div class=doc-md-description> <p>provides ability to alter Tweak Parameters of WebGear_RTC, CamGear, PiGear &amp; Stabilizer.</p> </div> </td> <td> <code>{}</code> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>vidgear/gears/asyncio/webgear_rtc.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-343>343</a></span>
<span class=normal><a href=#__codelineno-0-344>344</a></span>
<span class=normal><a href=#__codelineno-0-345>345</a></span>
<span class=normal><a href=#__codelineno-0-346>346</a></span>
<span class=normal><a href=#__codelineno-0-347>347</a></span>
<span class=normal><a href=#__codelineno-0-348>348</a></span>
<span class=normal><a href=#__codelineno-0-349>349</a></span>
<span class=normal><a href=#__codelineno-0-350>350</a></span>
<span class=normal><a href=#__codelineno-0-351>351</a></span>
<span class=normal><a href=#__codelineno-0-352>352</a></span>
<span class=normal><a href=#__codelineno-0-353>353</a></span>
<span class=normal><a href=#__codelineno-0-354>354</a></span>
<span class=normal><a href=#__codelineno-0-355>355</a></span>
<span class=normal><a href=#__codelineno-0-356>356</a></span>
<span class=normal><a href=#__codelineno-0-357>357</a></span>
<span class=normal><a href=#__codelineno-0-358>358</a></span>
<span class=normal><a href=#__codelineno-0-359>359</a></span>
<span class=normal><a href=#__codelineno-0-360>360</a></span>
<span class=normal><a href=#__codelineno-0-361>361</a></span>
<span class=normal><a href=#__codelineno-0-362>362</a></span>
<span class=normal><a href=#__codelineno-0-363>363</a></span>
<span class=normal><a href=#__codelineno-0-364>364</a></span>
<span class=normal><a href=#__codelineno-0-365>365</a></span>
<span class=normal><a href=#__codelineno-0-366>366</a></span>
<span class=normal><a href=#__codelineno-0-367>367</a></span>
<span class=normal><a href=#__codelineno-0-368>368</a></span>
<span class=normal><a href=#__codelineno-0-369>369</a></span>
<span class=normal><a href=#__codelineno-0-370>370</a></span>
<span class=normal><a href=#__codelineno-0-371>371</a></span>
<span class=normal><a href=#__codelineno-0-372>372</a></span>
<span class=normal><a href=#__codelineno-0-373>373</a></span>
<span class=normal><a href=#__codelineno-0-374>374</a></span>
<span class=normal><a href=#__codelineno-0-375>375</a></span>
<span class=normal><a href=#__codelineno-0-376>376</a></span>
<span class=normal><a href=#__codelineno-0-377>377</a></span>
<span class=normal><a href=#__codelineno-0-378>378</a></span>
<span class=normal><a href=#__codelineno-0-379>379</a></span>
<span class=normal><a href=#__codelineno-0-380>380</a></span>
<span class=normal><a href=#__codelineno-0-381>381</a></span>
<span class=normal><a href=#__codelineno-0-382>382</a></span>
<span class=normal><a href=#__codelineno-0-383>383</a></span>
<span class=normal><a href=#__codelineno-0-384>384</a></span>
<span class=normal><a href=#__codelineno-0-385>385</a></span>
<span class=normal><a href=#__codelineno-0-386>386</a></span>
<span class=normal><a href=#__codelineno-0-387>387</a></span>
<span class=normal><a href=#__codelineno-0-388>388</a></span>
<span class=normal><a href=#__codelineno-0-389>389</a></span>
<span class=normal><a href=#__codelineno-0-390>390</a></span>
<span class=normal><a href=#__codelineno-0-391>391</a></span>
<span class=normal><a href=#__codelineno-0-392>392</a></span>
<span class=normal><a href=#__codelineno-0-393>393</a></span>
<span class=normal><a href=#__codelineno-0-394>394</a></span>
<span class=normal><a href=#__codelineno-0-395>395</a></span>
<span class=normal><a href=#__codelineno-0-396>396</a></span>
<span class=normal><a href=#__codelineno-0-397>397</a></span>
<span class=normal><a href=#__codelineno-0-398>398</a></span>
<span class=normal><a href=#__codelineno-0-399>399</a></span>
<span class=normal><a href=#__codelineno-0-400>400</a></span>
<span class=normal><a href=#__codelineno-0-401>401</a></span>
<span class=normal><a href=#__codelineno-0-402>402</a></span>
<span class=normal><a href=#__codelineno-0-403>403</a></span>
<span class=normal><a href=#__codelineno-0-404>404</a></span>
<span class=normal><a href=#__codelineno-0-405>405</a></span>
<span class=normal><a href=#__codelineno-0-406>406</a></span>
<span class=normal><a href=#__codelineno-0-407>407</a></span>
<span class=normal><a href=#__codelineno-0-408>408</a></span>
<span class=normal><a href=#__codelineno-0-409>409</a></span>
<span class=normal><a href=#__codelineno-0-410>410</a></span>
<span class=normal><a href=#__codelineno-0-411>411</a></span>
<span class=normal><a href=#__codelineno-0-412>412</a></span>
<span class=normal><a href=#__codelineno-0-413>413</a></span>
<span class=normal><a href=#__codelineno-0-414>414</a></span>
<span class=normal><a href=#__codelineno-0-415>415</a></span>
<span class=normal><a href=#__codelineno-0-416>416</a></span>
<span class=normal><a href=#__codelineno-0-417>417</a></span>
<span class=normal><a href=#__codelineno-0-418>418</a></span>
<span class=normal><a href=#__codelineno-0-419>419</a></span>
<span class=normal><a href=#__codelineno-0-420>420</a></span>
<span class=normal><a href=#__codelineno-0-421>421</a></span>
<span class=normal><a href=#__codelineno-0-422>422</a></span>
<span class=normal><a href=#__codelineno-0-423>423</a></span>
<span class=normal><a href=#__codelineno-0-424>424</a></span>
<span class=normal><a href=#__codelineno-0-425>425</a></span>
<span class=normal><a href=#__codelineno-0-426>426</a></span>
<span class=normal><a href=#__codelineno-0-427>427</a></span>
<span class=normal><a href=#__codelineno-0-428>428</a></span>
<span class=normal><a href=#__codelineno-0-429>429</a></span>
<span class=normal><a href=#__codelineno-0-430>430</a></span>
<span class=normal><a href=#__codelineno-0-431>431</a></span>
<span class=normal><a href=#__codelineno-0-432>432</a></span>
<span class=normal><a href=#__codelineno-0-433>433</a></span>
<span class=normal><a href=#__codelineno-0-434>434</a></span>
<span class=normal><a href=#__codelineno-0-435>435</a></span>
<span class=normal><a href=#__codelineno-0-436>436</a></span>
<span class=normal><a href=#__codelineno-0-437>437</a></span>
<span class=normal><a href=#__codelineno-0-438>438</a></span>
<span class=normal><a href=#__codelineno-0-439>439</a></span>
<span class=normal><a href=#__codelineno-0-440>440</a></span>
<span class=normal><a href=#__codelineno-0-441>441</a></span>
<span class=normal><a href=#__codelineno-0-442>442</a></span>
<span class=normal><a href=#__codelineno-0-443>443</a></span>
<span class=normal><a href=#__codelineno-0-444>444</a></span>
<span class=normal><a href=#__codelineno-0-445>445</a></span>
<span class=normal><a href=#__codelineno-0-446>446</a></span>
<span class=normal><a href=#__codelineno-0-447>447</a></span>
<span class=normal><a href=#__codelineno-0-448>448</a></span>
<span class=normal><a href=#__codelineno-0-449>449</a></span>
<span class=normal><a href=#__codelineno-0-450>450</a></span>
<span class=normal><a href=#__codelineno-0-451>451</a></span>
<span class=normal><a href=#__codelineno-0-452>452</a></span>
<span class=normal><a href=#__codelineno-0-453>453</a></span>
<span class=normal><a href=#__codelineno-0-454>454</a></span>
<span class=normal><a href=#__codelineno-0-455>455</a></span>
<span class=normal><a href=#__codelineno-0-456>456</a></span>
<span class=normal><a href=#__codelineno-0-457>457</a></span>
<span class=normal><a href=#__codelineno-0-458>458</a></span>
<span class=normal><a href=#__codelineno-0-459>459</a></span>
<span class=normal><a href=#__codelineno-0-460>460</a></span>
<span class=normal><a href=#__codelineno-0-461>461</a></span>
<span class=normal><a href=#__codelineno-0-462>462</a></span>
<span class=normal><a href=#__codelineno-0-463>463</a></span>
<span class=normal><a href=#__codelineno-0-464>464</a></span>
<span class=normal><a href=#__codelineno-0-465>465</a></span>
<span class=normal><a href=#__codelineno-0-466>466</a></span>
<span class=normal><a href=#__codelineno-0-467>467</a></span>
<span class=normal><a href=#__codelineno-0-468>468</a></span>
<span class=normal><a href=#__codelineno-0-469>469</a></span>
<span class=normal><a href=#__codelineno-0-470>470</a></span>
<span class=normal><a href=#__codelineno-0-471>471</a></span>
<span class=normal><a href=#__codelineno-0-472>472</a></span>
<span class=normal><a href=#__codelineno-0-473>473</a></span>
<span class=normal><a href=#__codelineno-0-474>474</a></span>
<span class=normal><a href=#__codelineno-0-475>475</a></span>
<span class=normal><a href=#__codelineno-0-476>476</a></span>
<span class=normal><a href=#__codelineno-0-477>477</a></span>
<span class=normal><a href=#__codelineno-0-478>478</a></span>
<span class=normal><a href=#__codelineno-0-479>479</a></span>
<span class=normal><a href=#__codelineno-0-480>480</a></span>
<span class=normal><a href=#__codelineno-0-481>481</a></span>
<span class=normal><a href=#__codelineno-0-482>482</a></span>
<span class=normal><a href=#__codelineno-0-483>483</a></span>
<span class=normal><a href=#__codelineno-0-484>484</a></span>
<span class=normal><a href=#__codelineno-0-485>485</a></span>
<span class=normal><a href=#__codelineno-0-486>486</a></span>
<span class=normal><a href=#__codelineno-0-487>487</a></span>
<span class=normal><a href=#__codelineno-0-488>488</a></span>
<span class=normal><a href=#__codelineno-0-489>489</a></span>
<span class=normal><a href=#__codelineno-0-490>490</a></span>
<span class=normal><a href=#__codelineno-0-491>491</a></span>
<span class=normal><a href=#__codelineno-0-492>492</a></span>
<span class=normal><a href=#__codelineno-0-493>493</a></span>
<span class=normal><a href=#__codelineno-0-494>494</a></span>
<span class=normal><a href=#__codelineno-0-495>495</a></span>
<span class=normal><a href=#__codelineno-0-496>496</a></span>
<span class=normal><a href=#__codelineno-0-497>497</a></span>
<span class=normal><a href=#__codelineno-0-498>498</a></span>
<span class=normal><a href=#__codelineno-0-499>499</a></span>
<span class=normal><a href=#__codelineno-0-500>500</a></span>
<span class=normal><a href=#__codelineno-0-501>501</a></span>
<span class=normal><a href=#__codelineno-0-502>502</a></span>
<span class=normal><a href=#__codelineno-0-503>503</a></span>
<span class=normal><a href=#__codelineno-0-504>504</a></span>
<span class=normal><a href=#__codelineno-0-505>505</a></span>
<span class=normal><a href=#__codelineno-0-506>506</a></span>
<span class=normal><a href=#__codelineno-0-507>507</a></span>
<span class=normal><a href=#__codelineno-0-508>508</a></span>
<span class=normal><a href=#__codelineno-0-509>509</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-343><a id=__codelineno-0-343 name=__codelineno-0-343></a><span class=k>def</span><span class=w> </span><span class=fm>__init__</span><span class=p>(</span>
</span><span id=__span-0-344><a id=__codelineno-0-344 name=__codelineno-0-344></a>    <span class=bp>self</span><span class=p>,</span>
</span><span id=__span-0-345><a id=__codelineno-0-345 name=__codelineno-0-345></a>    <span class=n>enablePiCamera</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-346><a id=__codelineno-0-346 name=__codelineno-0-346></a>    <span class=n>stabilize</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-347><a id=__codelineno-0-347 name=__codelineno-0-347></a>    <span class=n>source</span><span class=p>:</span> <span class=n>Any</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-348><a id=__codelineno-0-348 name=__codelineno-0-348></a>    <span class=n>camera_num</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-349><a id=__codelineno-0-349 name=__codelineno-0-349></a>    <span class=n>stream_mode</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-350><a id=__codelineno-0-350 name=__codelineno-0-350></a>    <span class=n>backend</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-351><a id=__codelineno-0-351 name=__codelineno-0-351></a>    <span class=n>colorspace</span><span class=p>:</span> <span class=nb>str</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span>
</span><span id=__span-0-352><a id=__codelineno-0-352 name=__codelineno-0-352></a>    <span class=n>resolution</span><span class=p>:</span> <span class=n>Tuple</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>int</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=mi>640</span><span class=p>,</span> <span class=mi>480</span><span class=p>),</span>
</span><span id=__span-0-353><a id=__codelineno-0-353 name=__codelineno-0-353></a>    <span class=n>framerate</span><span class=p>:</span> <span class=n>Union</span><span class=p>[</span><span class=nb>int</span><span class=p>,</span> <span class=nb>float</span><span class=p>]</span> <span class=o>=</span> <span class=mi>25</span><span class=p>,</span>
</span><span id=__span-0-354><a id=__codelineno-0-354 name=__codelineno-0-354></a>    <span class=n>logging</span><span class=p>:</span> <span class=nb>bool</span> <span class=o>=</span> <span class=kc>False</span><span class=p>,</span>
</span><span id=__span-0-355><a id=__codelineno-0-355 name=__codelineno-0-355></a>    <span class=n>time_delay</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span>
</span><span id=__span-0-356><a id=__codelineno-0-356 name=__codelineno-0-356></a>    <span class=o>**</span><span class=n>options</span><span class=p>:</span> <span class=nb>dict</span>
</span><span id=__span-0-357><a id=__codelineno-0-357 name=__codelineno-0-357></a><span class=p>):</span>
</span><span id=__span-0-358><a id=__codelineno-0-358 name=__codelineno-0-358></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-359><a id=__codelineno-0-359 name=__codelineno-0-359></a><span class=sd>    This constructor method initializes the object state and attributes of the WebGear_RTC class.</span>
</span><span id=__span-0-360><a id=__codelineno-0-360 name=__codelineno-0-360></a>
</span><span id=__span-0-361><a id=__codelineno-0-361 name=__codelineno-0-361></a><span class=sd>    Parameters:</span>
</span><span id=__span-0-362><a id=__codelineno-0-362 name=__codelineno-0-362></a><span class=sd>        enablePiCamera (bool): provide access to PiGear(if True) or CamGear(if False) APIs respectively.</span>
</span><span id=__span-0-363><a id=__codelineno-0-363 name=__codelineno-0-363></a><span class=sd>        stabilize (bool): enable access to Stabilizer Class for stabilizing frames.</span>
</span><span id=__span-0-364><a id=__codelineno-0-364 name=__codelineno-0-364></a><span class=sd>        camera_num (int): selects the camera module index which will be used as Rpi source.</span>
</span><span id=__span-0-365><a id=__codelineno-0-365 name=__codelineno-0-365></a><span class=sd>        resolution (tuple): sets the resolution (i.e. `(width,height)`) of the Rpi source.</span>
</span><span id=__span-0-366><a id=__codelineno-0-366 name=__codelineno-0-366></a><span class=sd>        framerate (int/float): sets the framerate of the Rpi source.</span>
</span><span id=__span-0-367><a id=__codelineno-0-367 name=__codelineno-0-367></a><span class=sd>        source (based on input): defines the source for the input stream.</span>
</span><span id=__span-0-368><a id=__codelineno-0-368 name=__codelineno-0-368></a><span class=sd>        stream_mode (bool): controls the exclusive YouTube Mode.</span>
</span><span id=__span-0-369><a id=__codelineno-0-369 name=__codelineno-0-369></a><span class=sd>        backend (int): selects the backend for OpenCV&#39;s VideoCapture class.</span>
</span><span id=__span-0-370><a id=__codelineno-0-370 name=__codelineno-0-370></a><span class=sd>        colorspace (str): selects the colorspace of the input stream.</span>
</span><span id=__span-0-371><a id=__codelineno-0-371 name=__codelineno-0-371></a><span class=sd>        logging (bool): enables/disables logging.</span>
</span><span id=__span-0-372><a id=__codelineno-0-372 name=__codelineno-0-372></a><span class=sd>        time_delay (int): time delay (in sec) before start reading the frames.</span>
</span><span id=__span-0-373><a id=__codelineno-0-373 name=__codelineno-0-373></a><span class=sd>        options (dict): provides ability to alter Tweak Parameters of WebGear_RTC, CamGear, PiGear &amp; Stabilizer.</span>
</span><span id=__span-0-374><a id=__codelineno-0-374 name=__codelineno-0-374></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-375><a id=__codelineno-0-375 name=__codelineno-0-375></a>    <span class=c1># enable logging if specified</span>
</span><span id=__span-0-376><a id=__codelineno-0-376 name=__codelineno-0-376></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=o>=</span> <span class=n>logging</span> <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>logging</span><span class=p>,</span> <span class=nb>bool</span><span class=p>)</span> <span class=k>else</span> <span class=kc>False</span>
</span><span id=__span-0-377><a id=__codelineno-0-377 name=__codelineno-0-377></a>
</span><span id=__span-0-378><a id=__codelineno-0-378 name=__codelineno-0-378></a>    <span class=c1># print current version</span>
</span><span id=__span-0-379><a id=__codelineno-0-379 name=__codelineno-0-379></a>    <span class=n>logcurr_vidgear_ver</span><span class=p>(</span><span class=n>logging</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__logging</span><span class=p>)</span>
</span><span id=__span-0-380><a id=__codelineno-0-380 name=__codelineno-0-380></a>
</span><span id=__span-0-381><a id=__codelineno-0-381 name=__codelineno-0-381></a>    <span class=c1># raise error(s) for critical Class imports</span>
</span><span id=__span-0-382><a id=__codelineno-0-382 name=__codelineno-0-382></a>    <span class=n>import_dependency_safe</span><span class=p>(</span><span class=s2>&quot;starlette&quot;</span> <span class=k>if</span> <span class=n>starlette</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-383><a id=__codelineno-0-383 name=__codelineno-0-383></a>    <span class=n>import_dependency_safe</span><span class=p>(</span><span class=s2>&quot;aiortc&quot;</span> <span class=k>if</span> <span class=n>aiortc</span> <span class=ow>is</span> <span class=kc>None</span> <span class=k>else</span> <span class=s2>&quot;&quot;</span><span class=p>)</span>
</span><span id=__span-0-384><a id=__codelineno-0-384 name=__codelineno-0-384></a>
</span><span id=__span-0-385><a id=__codelineno-0-385 name=__codelineno-0-385></a>    <span class=c1># initialize global params</span>
</span><span id=__span-0-386><a id=__codelineno-0-386 name=__codelineno-0-386></a>    <span class=n>custom_data_location</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>  <span class=c1># path to save data-files to custom location</span>
</span><span id=__span-0-387><a id=__codelineno-0-387 name=__codelineno-0-387></a>    <span class=n>data_path</span> <span class=o>=</span> <span class=s2>&quot;&quot;</span>  <span class=c1># path to WebGear_RTC data-files</span>
</span><span id=__span-0-388><a id=__codelineno-0-388 name=__codelineno-0-388></a>    <span class=n>overwrite_default</span> <span class=o>=</span> <span class=kc>False</span>
</span><span id=__span-0-389><a id=__codelineno-0-389 name=__codelineno-0-389></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=o>=</span> <span class=kc>None</span>  <span class=c1># act as broadcaster</span>
</span><span id=__span-0-390><a id=__codelineno-0-390 name=__codelineno-0-390></a>
</span><span id=__span-0-391><a id=__codelineno-0-391 name=__codelineno-0-391></a>    <span class=c1># reformat dictionary</span>
</span><span id=__span-0-392><a id=__codelineno-0-392 name=__codelineno-0-392></a>    <span class=n>options</span> <span class=o>=</span> <span class=p>{</span><span class=nb>str</span><span class=p>(</span><span class=n>k</span><span class=p>)</span><span class=o>.</span><span class=n>strip</span><span class=p>():</span> <span class=n>v</span> <span class=k>for</span> <span class=n>k</span><span class=p>,</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>options</span><span class=o>.</span><span class=n>items</span><span class=p>()}</span>
</span><span id=__span-0-393><a id=__codelineno-0-393 name=__codelineno-0-393></a>
</span><span id=__span-0-394><a id=__codelineno-0-394 name=__codelineno-0-394></a>    <span class=c1># assign values to global variables if specified and valid</span>
</span><span id=__span-0-395><a id=__codelineno-0-395 name=__codelineno-0-395></a>    <span class=k>if</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-396><a id=__codelineno-0-396 name=__codelineno-0-396></a>        <span class=k>if</span> <span class=s2>&quot;custom_data_location&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-397><a id=__codelineno-0-397 name=__codelineno-0-397></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;custom_data_location&quot;</span><span class=p>]</span>
</span><span id=__span-0-398><a id=__codelineno-0-398 name=__codelineno-0-398></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>str</span><span class=p>):</span>
</span><span id=__span-0-399><a id=__codelineno-0-399 name=__codelineno-0-399></a>                <span class=k>assert</span> <span class=n>os</span><span class=o>.</span><span class=n>access</span><span class=p>(</span>
</span><span id=__span-0-400><a id=__codelineno-0-400 name=__codelineno-0-400></a>                    <span class=n>value</span><span class=p>,</span> <span class=n>os</span><span class=o>.</span><span class=n>W_OK</span>
</span><span id=__span-0-401><a id=__codelineno-0-401 name=__codelineno-0-401></a>                <span class=p>),</span> <span class=s2>&quot;[WebGear_RTC:ERROR] :: Permission Denied!, cannot write WebGear_RTC data-files to &#39;</span><span class=si>{}</span><span class=s2>&#39; directory!&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span><span id=__span-0-402><a id=__codelineno-0-402 name=__codelineno-0-402></a>                    <span class=n>value</span>
</span><span id=__span-0-403><a id=__codelineno-0-403 name=__codelineno-0-403></a>                <span class=p>)</span>
</span><span id=__span-0-404><a id=__codelineno-0-404 name=__codelineno-0-404></a>                <span class=k>assert</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>isdir</span><span class=p>(</span>
</span><span id=__span-0-405><a id=__codelineno-0-405 name=__codelineno-0-405></a>                    <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-406><a id=__codelineno-0-406 name=__codelineno-0-406></a>                <span class=p>),</span> <span class=s2>&quot;[WebGear_RTC:ERROR] :: `custom_data_location` value must be the path to a directory and not to a file!&quot;</span>
</span><span id=__span-0-407><a id=__codelineno-0-407 name=__codelineno-0-407></a>                <span class=n>custom_data_location</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>abspath</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</span><span id=__span-0-408><a id=__codelineno-0-408 name=__codelineno-0-408></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-409><a id=__codelineno-0-409 name=__codelineno-0-409></a>                <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `custom_data_location` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-410><a id=__codelineno-0-410 name=__codelineno-0-410></a>            <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;custom_data_location&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-411><a id=__codelineno-0-411 name=__codelineno-0-411></a>
</span><span id=__span-0-412><a id=__codelineno-0-412 name=__codelineno-0-412></a>        <span class=k>if</span> <span class=s2>&quot;overwrite_default_files&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-413><a id=__codelineno-0-413 name=__codelineno-0-413></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;overwrite_default_files&quot;</span><span class=p>]</span>
</span><span id=__span-0-414><a id=__codelineno-0-414 name=__codelineno-0-414></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-415><a id=__codelineno-0-415 name=__codelineno-0-415></a>                <span class=n>overwrite_default</span> <span class=o>=</span> <span class=n>value</span>
</span><span id=__span-0-416><a id=__codelineno-0-416 name=__codelineno-0-416></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-417><a id=__codelineno-0-417 name=__codelineno-0-417></a>                <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `overwrite_default_files` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-418><a id=__codelineno-0-418 name=__codelineno-0-418></a>            <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;overwrite_default_files&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-419><a id=__codelineno-0-419 name=__codelineno-0-419></a>
</span><span id=__span-0-420><a id=__codelineno-0-420 name=__codelineno-0-420></a>        <span class=k>if</span> <span class=s2>&quot;enable_live_broadcast&quot;</span> <span class=ow>in</span> <span class=n>options</span><span class=p>:</span>
</span><span id=__span-0-421><a id=__codelineno-0-421 name=__codelineno-0-421></a>            <span class=n>value</span> <span class=o>=</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;enable_live_broadcast&quot;</span><span class=p>]</span>
</span><span id=__span-0-422><a id=__codelineno-0-422 name=__codelineno-0-422></a>            <span class=k>if</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>value</span><span class=p>,</span> <span class=nb>bool</span><span class=p>):</span>
</span><span id=__span-0-423><a id=__codelineno-0-423 name=__codelineno-0-423></a>                <span class=k>if</span> <span class=n>value</span><span class=p>:</span>
</span><span id=__span-0-424><a id=__codelineno-0-424 name=__codelineno-0-424></a>                    <span class=bp>self</span><span class=o>.</span><span class=n>__relay</span> <span class=o>=</span> <span class=n>MediaRelay</span><span class=p>()</span>
</span><span id=__span-0-425><a id=__codelineno-0-425 name=__codelineno-0-425></a>                    <span class=n>options</span><span class=p>[</span>
</span><span id=__span-0-426><a id=__codelineno-0-426 name=__codelineno-0-426></a>                        <span class=s2>&quot;enable_infinite_frames&quot;</span>
</span><span id=__span-0-427><a id=__codelineno-0-427 name=__codelineno-0-427></a>                    <span class=p>]</span> <span class=o>=</span> <span class=kc>True</span>  <span class=c1># enforce infinite frames</span>
</span><span id=__span-0-428><a id=__codelineno-0-428 name=__codelineno-0-428></a>                    <span class=n>logger</span><span class=o>.</span><span class=n>critical</span><span class=p>(</span>
</span><span id=__span-0-429><a id=__codelineno-0-429 name=__codelineno-0-429></a>                        <span class=s2>&quot;Enabled live broadcasting for Peer connection(s).&quot;</span>
</span><span id=__span-0-430><a id=__codelineno-0-430 name=__codelineno-0-430></a>                    <span class=p>)</span>
</span><span id=__span-0-431><a id=__codelineno-0-431 name=__codelineno-0-431></a>                <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-432><a id=__codelineno-0-432 name=__codelineno-0-432></a>                    <span class=kc>None</span>
</span><span id=__span-0-433><a id=__codelineno-0-433 name=__codelineno-0-433></a>            <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-434><a id=__codelineno-0-434 name=__codelineno-0-434></a>                <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s2>&quot;Skipped invalid `enable_live_broadcast` value!&quot;</span><span class=p>)</span>
</span><span id=__span-0-435><a id=__codelineno-0-435 name=__codelineno-0-435></a>            <span class=k>del</span> <span class=n>options</span><span class=p>[</span><span class=s2>&quot;enable_live_broadcast&quot;</span><span class=p>]</span>  <span class=c1># clean</span>
</span><span id=__span-0-436><a id=__codelineno-0-436 name=__codelineno-0-436></a>
</span><span id=__span-0-437><a id=__codelineno-0-437 name=__codelineno-0-437></a>    <span class=c1># check if custom certificates path is specified</span>
</span><span id=__span-0-438><a id=__codelineno-0-438 name=__codelineno-0-438></a>    <span class=k>if</span> <span class=n>custom_data_location</span><span class=p>:</span>
</span><span id=__span-0-439><a id=__codelineno-0-439 name=__codelineno-0-439></a>        <span class=n>data_path</span> <span class=o>=</span> <span class=n>generate_webdata</span><span class=p>(</span>
</span><span id=__span-0-440><a id=__codelineno-0-440 name=__codelineno-0-440></a>            <span class=n>custom_data_location</span><span class=p>,</span>
</span><span id=__span-0-441><a id=__codelineno-0-441 name=__codelineno-0-441></a>            <span class=n>c_name</span><span class=o>=</span><span class=s2>&quot;webgear_rtc&quot;</span><span class=p>,</span>
</span><span id=__span-0-442><a id=__codelineno-0-442 name=__codelineno-0-442></a>            <span class=n>overwrite_default</span><span class=o>=</span><span class=n>overwrite_default</span><span class=p>,</span>
</span><span id=__span-0-443><a id=__codelineno-0-443 name=__codelineno-0-443></a>            <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-444><a id=__codelineno-0-444 name=__codelineno-0-444></a>        <span class=p>)</span>
</span><span id=__span-0-445><a id=__codelineno-0-445 name=__codelineno-0-445></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-446><a id=__codelineno-0-446 name=__codelineno-0-446></a>        <span class=c1># otherwise generate suitable path</span>
</span><span id=__span-0-447><a id=__codelineno-0-447 name=__codelineno-0-447></a>        <span class=n>data_path</span> <span class=o>=</span> <span class=n>generate_webdata</span><span class=p>(</span>
</span><span id=__span-0-448><a id=__codelineno-0-448 name=__codelineno-0-448></a>            <span class=n>os</span><span class=o>.</span><span class=n>path</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>expanduser</span><span class=p>(</span><span class=s2>&quot;~&quot;</span><span class=p>),</span> <span class=s2>&quot;.vidgear&quot;</span><span class=p>),</span>
</span><span id=__span-0-449><a id=__codelineno-0-449 name=__codelineno-0-449></a>            <span class=n>c_name</span><span class=o>=</span><span class=s2>&quot;webgear_rtc&quot;</span><span class=p>,</span>
</span><span id=__span-0-450><a id=__codelineno-0-450 name=__codelineno-0-450></a>            <span class=n>overwrite_default</span><span class=o>=</span><span class=n>overwrite_default</span><span class=p>,</span>
</span><span id=__span-0-451><a id=__codelineno-0-451 name=__codelineno-0-451></a>            <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-452><a id=__codelineno-0-452 name=__codelineno-0-452></a>        <span class=p>)</span>
</span><span id=__span-0-453><a id=__codelineno-0-453 name=__codelineno-0-453></a>
</span><span id=__span-0-454><a id=__codelineno-0-454 name=__codelineno-0-454></a>    <span class=c1># log it</span>
</span><span id=__span-0-455><a id=__codelineno-0-455 name=__codelineno-0-455></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span>
</span><span id=__span-0-456><a id=__codelineno-0-456 name=__codelineno-0-456></a>        <span class=s2>&quot;`</span><span class=si>{}</span><span class=s2>` is the default location for saving WebGear_RTC data-files.&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span>
</span><span id=__span-0-457><a id=__codelineno-0-457 name=__codelineno-0-457></a>            <span class=n>data_path</span>
</span><span id=__span-0-458><a id=__codelineno-0-458 name=__codelineno-0-458></a>        <span class=p>)</span>
</span><span id=__span-0-459><a id=__codelineno-0-459 name=__codelineno-0-459></a>    <span class=p>)</span>
</span><span id=__span-0-460><a id=__codelineno-0-460 name=__codelineno-0-460></a>
</span><span id=__span-0-461><a id=__codelineno-0-461 name=__codelineno-0-461></a>    <span class=c1># define Jinja2 templates handler</span>
</span><span id=__span-0-462><a id=__codelineno-0-462 name=__codelineno-0-462></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__templates</span> <span class=o>=</span> <span class=n>Jinja2Templates</span><span class=p>(</span><span class=n>directory</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>{}</span><span class=s2>/templates&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>data_path</span><span class=p>))</span>
</span><span id=__span-0-463><a id=__codelineno-0-463 name=__codelineno-0-463></a>
</span><span id=__span-0-464><a id=__codelineno-0-464 name=__codelineno-0-464></a>    <span class=c1># define custom exception handlers</span>
</span><span id=__span-0-465><a id=__codelineno-0-465 name=__codelineno-0-465></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__exception_handlers</span> <span class=o>=</span> <span class=p>{</span><span class=mi>404</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__not_found</span><span class=p>,</span> <span class=mi>500</span><span class=p>:</span> <span class=bp>self</span><span class=o>.</span><span class=n>__server_error</span><span class=p>}</span>
</span><span id=__span-0-466><a id=__codelineno-0-466 name=__codelineno-0-466></a>    <span class=c1># define routing tables</span>
</span><span id=__span-0-467><a id=__codelineno-0-467 name=__codelineno-0-467></a>    <span class=bp>self</span><span class=o>.</span><span class=n>routes</span> <span class=o>=</span> <span class=p>[</span>
</span><span id=__span-0-468><a id=__codelineno-0-468 name=__codelineno-0-468></a>        <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/&quot;</span><span class=p>,</span> <span class=n>endpoint</span><span class=o>=</span><span class=bp>self</span><span class=o>.</span><span class=n>__homepage</span><span class=p>),</span>
</span><span id=__span-0-469><a id=__codelineno-0-469 name=__codelineno-0-469></a>        <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/offer&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>__offer</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;GET&quot;</span><span class=p>,</span> <span class=s2>&quot;POST&quot;</span><span class=p>]),</span>
</span><span id=__span-0-470><a id=__codelineno-0-470 name=__codelineno-0-470></a>        <span class=n>Mount</span><span class=p>(</span>
</span><span id=__span-0-471><a id=__codelineno-0-471 name=__codelineno-0-471></a>            <span class=s2>&quot;/static&quot;</span><span class=p>,</span>
</span><span id=__span-0-472><a id=__codelineno-0-472 name=__codelineno-0-472></a>            <span class=n>app</span><span class=o>=</span><span class=n>StaticFiles</span><span class=p>(</span><span class=n>directory</span><span class=o>=</span><span class=s2>&quot;</span><span class=si>{}</span><span class=s2>/static&quot;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>data_path</span><span class=p>)),</span>
</span><span id=__span-0-473><a id=__codelineno-0-473 name=__codelineno-0-473></a>            <span class=n>name</span><span class=o>=</span><span class=s2>&quot;static&quot;</span><span class=p>,</span>
</span><span id=__span-0-474><a id=__codelineno-0-474 name=__codelineno-0-474></a>        <span class=p>),</span>
</span><span id=__span-0-475><a id=__codelineno-0-475 name=__codelineno-0-475></a>    <span class=p>]</span>
</span><span id=__span-0-476><a id=__codelineno-0-476 name=__codelineno-0-476></a>
</span><span id=__span-0-477><a id=__codelineno-0-477 name=__codelineno-0-477></a>    <span class=c1># define middleware support</span>
</span><span id=__span-0-478><a id=__codelineno-0-478 name=__codelineno-0-478></a>    <span class=bp>self</span><span class=o>.</span><span class=n>middleware</span> <span class=o>=</span> <span class=p>[]</span>
</span><span id=__span-0-479><a id=__codelineno-0-479 name=__codelineno-0-479></a>
</span><span id=__span-0-480><a id=__codelineno-0-480 name=__codelineno-0-480></a>    <span class=c1># Handle RTC video server</span>
</span><span id=__span-0-481><a id=__codelineno-0-481 name=__codelineno-0-481></a>    <span class=k>if</span> <span class=s2>&quot;custom_stream&quot;</span> <span class=ow>in</span> <span class=n>options</span> <span class=ow>or</span> <span class=ow>not</span> <span class=p>(</span><span class=n>source</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-482><a id=__codelineno-0-482 name=__codelineno-0-482></a>        <span class=c1># Handle video source</span>
</span><span id=__span-0-483><a id=__codelineno-0-483 name=__codelineno-0-483></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=n>RTC_VideoServer</span><span class=p>(</span>
</span><span id=__span-0-484><a id=__codelineno-0-484 name=__codelineno-0-484></a>            <span class=n>enablePiCamera</span><span class=o>=</span><span class=n>enablePiCamera</span><span class=p>,</span>
</span><span id=__span-0-485><a id=__codelineno-0-485 name=__codelineno-0-485></a>            <span class=n>stabilize</span><span class=o>=</span><span class=n>stabilize</span><span class=p>,</span>
</span><span id=__span-0-486><a id=__codelineno-0-486 name=__codelineno-0-486></a>            <span class=n>source</span><span class=o>=</span><span class=n>source</span><span class=p>,</span>
</span><span id=__span-0-487><a id=__codelineno-0-487 name=__codelineno-0-487></a>            <span class=n>camera_num</span><span class=o>=</span><span class=n>camera_num</span><span class=p>,</span>
</span><span id=__span-0-488><a id=__codelineno-0-488 name=__codelineno-0-488></a>            <span class=n>stream_mode</span><span class=o>=</span><span class=n>stream_mode</span><span class=p>,</span>
</span><span id=__span-0-489><a id=__codelineno-0-489 name=__codelineno-0-489></a>            <span class=n>backend</span><span class=o>=</span><span class=n>backend</span><span class=p>,</span>
</span><span id=__span-0-490><a id=__codelineno-0-490 name=__codelineno-0-490></a>            <span class=n>colorspace</span><span class=o>=</span><span class=n>colorspace</span><span class=p>,</span>
</span><span id=__span-0-491><a id=__codelineno-0-491 name=__codelineno-0-491></a>            <span class=n>resolution</span><span class=o>=</span><span class=n>resolution</span><span class=p>,</span>
</span><span id=__span-0-492><a id=__codelineno-0-492 name=__codelineno-0-492></a>            <span class=n>framerate</span><span class=o>=</span><span class=n>framerate</span><span class=p>,</span>
</span><span id=__span-0-493><a id=__codelineno-0-493 name=__codelineno-0-493></a>            <span class=n>logging</span><span class=o>=</span><span class=n>logging</span><span class=p>,</span>
</span><span id=__span-0-494><a id=__codelineno-0-494 name=__codelineno-0-494></a>            <span class=n>time_delay</span><span class=o>=</span><span class=n>time_delay</span><span class=p>,</span>
</span><span id=__span-0-495><a id=__codelineno-0-495 name=__codelineno-0-495></a>            <span class=o>**</span><span class=n>options</span>
</span><span id=__span-0-496><a id=__codelineno-0-496 name=__codelineno-0-496></a>        <span class=p>)</span>
</span><span id=__span-0-497><a id=__codelineno-0-497 name=__codelineno-0-497></a>        <span class=c1># add exclusive reset connection node</span>
</span><span id=__span-0-498><a id=__codelineno-0-498 name=__codelineno-0-498></a>        <span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=o>.</span><span class=n>append</span><span class=p>(</span>
</span><span id=__span-0-499><a id=__codelineno-0-499 name=__codelineno-0-499></a>            <span class=n>Route</span><span class=p>(</span><span class=s2>&quot;/close_connection&quot;</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>__reset_connections</span><span class=p>,</span> <span class=n>methods</span><span class=o>=</span><span class=p>[</span><span class=s2>&quot;POST&quot;</span><span class=p>])</span>
</span><span id=__span-0-500><a id=__codelineno-0-500 name=__codelineno-0-500></a>        <span class=p>)</span>
</span><span id=__span-0-501><a id=__codelineno-0-501 name=__codelineno-0-501></a>    <span class=k>else</span><span class=p>:</span>
</span><span id=__span-0-502><a id=__codelineno-0-502 name=__codelineno-0-502></a>        <span class=k>raise</span> <span class=ne>ValueError</span><span class=p>(</span>
</span><span id=__span-0-503><a id=__codelineno-0-503 name=__codelineno-0-503></a>            <span class=s2>&quot;[WebGear_RTC:ERROR] :: Source cannot be NoneType without Custom Stream(`custom_stream`) defined!&quot;</span>
</span><span id=__span-0-504><a id=__codelineno-0-504 name=__codelineno-0-504></a>        <span class=p>)</span>
</span><span id=__span-0-505><a id=__codelineno-0-505 name=__codelineno-0-505></a>
</span><span id=__span-0-506><a id=__codelineno-0-506 name=__codelineno-0-506></a>    <span class=c1># copying original routing tables for further validation</span>
</span><span id=__span-0-507><a id=__codelineno-0-507 name=__codelineno-0-507></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__rt_org_copy</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>routes</span><span class=p>[:]</span>
</span><span id=__span-0-508><a id=__codelineno-0-508 name=__codelineno-0-508></a>    <span class=c1># collects peer RTC connections</span>
</span><span id=__span-0-509><a id=__codelineno-0-509 name=__codelineno-0-509></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__pcs</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> <div class="doc doc-object doc-function"> <h2 id=vidgear.gears.asyncio.WebGear_RTC.shutdown class="doc doc-heading"> <code class="highlight language-python"><span class=n>shutdown</span><span class=p>()</span></code> <a href=#vidgear.gears.asyncio.WebGear_RTC.shutdown class=headerlink title="Permanent link">&para;</a></h2> <div class="doc doc-contents "> <p>Gracefully shutdown video-server</p> <details class=quote> <summary>Source code in <code>vidgear/gears/asyncio/webgear_rtc.py</code></summary> <div class="language-python highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-659>659</a></span>
<span class=normal><a href=#__codelineno-0-660>660</a></span>
<span class=normal><a href=#__codelineno-0-661>661</a></span>
<span class=normal><a href=#__codelineno-0-662>662</a></span>
<span class=normal><a href=#__codelineno-0-663>663</a></span>
<span class=normal><a href=#__codelineno-0-664>664</a></span>
<span class=normal><a href=#__codelineno-0-665>665</a></span>
<span class=normal><a href=#__codelineno-0-666>666</a></span>
<span class=normal><a href=#__codelineno-0-667>667</a></span>
<span class=normal><a href=#__codelineno-0-668>668</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-659><a id=__codelineno-0-659 name=__codelineno-0-659></a><span class=k>def</span><span class=w> </span><span class=nf>shutdown</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span><span id=__span-0-660><a id=__codelineno-0-660 name=__codelineno-0-660></a><span class=w>    </span><span class=sd>&quot;&quot;&quot;</span>
</span><span id=__span-0-661><a id=__codelineno-0-661 name=__codelineno-0-661></a><span class=sd>    Gracefully shutdown video-server</span>
</span><span id=__span-0-662><a id=__codelineno-0-662 name=__codelineno-0-662></a><span class=sd>    &quot;&quot;&quot;</span>
</span><span id=__span-0-663><a id=__codelineno-0-663 name=__codelineno-0-663></a>    <span class=k>if</span> <span class=ow>not</span> <span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=ow>is</span> <span class=kc>None</span><span class=p>):</span>
</span><span id=__span-0-664><a id=__codelineno-0-664 name=__codelineno-0-664></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__logging</span> <span class=ow>and</span> <span class=n>logger</span><span class=o>.</span><span class=n>debug</span><span class=p>(</span><span class=s2>&quot;Closing Video Server.&quot;</span><span class=p>)</span>
</span><span id=__span-0-665><a id=__codelineno-0-665 name=__codelineno-0-665></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span><span class=o>.</span><span class=n>terminate</span><span class=p>()</span>
</span><span id=__span-0-666><a id=__codelineno-0-666 name=__codelineno-0-666></a>        <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=kc>None</span>
</span><span id=__span-0-667><a id=__codelineno-0-667 name=__codelineno-0-667></a>    <span class=c1># terminate internal server aswell.</span>
</span><span id=__span-0-668><a id=__codelineno-0-668 name=__codelineno-0-668></a>    <span class=bp>self</span><span class=o>.</span><span class=n>__default_rtc_server</span> <span class=o>=</span> <span class=kc>None</span>
</span></code></pre></div></td></tr></table></div> </details> </div> </div> </div> </div> </div><p>&nbsp;</p> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 11, 2021 11:16:39 UTC">August 11, 2021</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="June 10, 2020 17:37:24 UTC">June 10, 2020</span> </span> </aside> <form class=md-feedback name=feedback hidden> <fieldset> <legend class=md-feedback__title> Was this page helpful? </legend> <div class=md-feedback__inner> <div class=md-feedback__list> <button class="md-feedback__icon md-icon" type=submit title="This page was helpful" data-md-value=1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg> </button> <button class="md-feedback__icon md-icon" type=submit title="This page could be improved" data-md-value=0> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg> </button> </div> <div class=md-feedback__note> <div data-md-value=1 hidden> Thanks for your feedback! </div> <div data-md-value=0 hidden> Thanks for your feedback! Help us improve this page by using our <a href=... target=_blank rel=noopener>feedback form</a>. </div> </div> </div> </fieldset> </form> <footer class=sponsorship> <hr> <a href=https://ko-fi.com/W7W8WTYO> <span class="twemoji heart-throb-hover heart"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="m256 107.9-15-20.8C216 52.5 175.9 32 133.1 32 59.6 32 0 91.6 0 165.1v2.6c0 23.6 6.2 48 16.6 72.3h106c3.2 0 6.1-1.9 7.4-4.9l31.8-76.3c3.7-8.8 12.3-14.6 21.8-14.8s18.3 5.4 22.2 14.1L257.1 272l41.4-82.8c4.1-8.1 12.4-13.3 21.5-13.3s17.4 5.1 21.5 13.3l23.2 46.3c1.4 2.7 4.1 4.4 7.2 4.4h123.6c10.5-24.3 16.6-48.7 16.6-72.3V165C512 91.6 452.4 32 378.9 32 336.2 32 296 52.5 271 87.1l-15 20.7zM469.6 288h-97.8c-21.2 0-40.6-12-50.1-31l-1.7-3.4-42.5 85.1c-4.1 8.3-12.7 13.5-22 13.3s-17.6-5.7-21.4-14.1l-49.3-109.5-10.5 25.2c-8.7 20.9-29.1 34.5-51.7 34.5H42.4c47.2 73.8 123 141.7 170.4 177.9 12.4 9.4 27.6 14.1 43.1 14.1s30.8-4.6 43.1-14.1c47.6-36.3 123.4-104.2 170.6-178"/></svg> </span> </a> <hr> </footer> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2019 Abhishek Thakur(@abhiTronix) </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/abhiTronix target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://gitter.im/vidgear/community target=_blank rel=noopener title=gitter.im class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M66.4 322.5H16V0h50.4zM166.9 76.1h-50.4V512h50.4zm100.6 0h-50.4V512h50.4zM368 76h-50.4v247H368z"/></svg> </a> <a href=https://www.linkedin.com/in/abhishek-singh-thakur-a37845a5 target=_blank rel=noopener title=www.linkedin.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg> </a> <a href=https://dev.to/abhitronix target=_blank rel=noopener title=dev.to class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M120.1 208.3c-3.9-2.9-7.8-4.3-11.6-4.3H91.1v104.5h17.4c3.9 0 7.8-1.4 11.6-4.3s5.8-7.3 5.8-13.1v-69.7c0-5.8-2-10.2-5.8-13.1M404.1 32H43.9C19.7 32 .1 51.6 0 75.8v360.4C.1 460.4 19.7 480 43.9 480h360.2c24.2 0 43.8-19.6 43.9-43.8V75.8c-.1-24.2-19.7-43.8-43.9-43.8M154.2 291.2c0 18.8-11.6 47.3-48.4 47.3H59.4V173h47.4c35.4 0 47.4 28.5 47.4 47.3zm100.7-88.7h-53.3v38.4h32.6v29.6h-32.6v38.4h53.3v29.6h-62.2c-11.2.3-20.4-8.5-20.7-19.7V193.7c-.3-11.1 8.6-20.4 19.7-20.7h63.2zm103.6 115.3c-13.2 30.7-36.8 24.6-47.4 0L272.6 173h32.6l29.7 113.7L364.5 173h32.6l-38.5 144.8z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["announce.dismiss", "navigation.indexes", "navigation.prune", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "navigation.instant", "search.suggest", "search.highlight", "search.share", "content.code.annotate", "content.code.copy", "content.tabs.link", "content.footnote.tooltips", "content.action.view", "content.action.edit", "content.tooltips", "toc.follow"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../../assets/javascripts/bundle.f55a23d4.min.js></script> <script src=../../../assets/javascripts/extra.js></script> <script src=https://cdn.jsdelivr.net/npm/@clappr/player@latest/dist/clappr.min.js></script> <script src=https://cdn.jsdelivr.net/gh/clappr/clappr-level-selector-plugin@latest/dist/level-selector.min.js></script> <script src=https://cdn.jsdelivr.net/gh/clappr/dash-shaka-playback@latest/dist/dash-shaka-playback.js></script> <script src=https://cdn.jsdelivr.net/npm/@clappr/hlsjs-playback@latest/dist/hlsjs-playback.min.js></script> </body> </html>